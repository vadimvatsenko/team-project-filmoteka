{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-b16fe651a2996b87.js","src/lib-index.js","src/js/movie-info-lib.js","src/js/lib.js","src/js/pagination-lib.js","node_modules/@parcel/runtime-js/lib/runtime-246d7f17877b7a3f.js","src/js/modal-user.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1MkFi\\\":\\\"lib.0992a826.js\\\",\\\"9v6fF\\\":\\\"symbol-defs.77c8385e.svg\\\",\\\"5UbS1\\\":\\\"index.5f402c17.css\\\",\\\"bp6zS\\\":\\\"index.1ae8b825.js\\\"}\"));","import './js/scroll';\nimport './js/firebase';\nimport './js/components/change-theme';\n// import './js/pagination';\nimport './js/spiner';\nimport './js/movie-info-lib';\n\nimport './js/team_modal';\nimport '../node_modules/basiclightbox/dist/basicLightbox.min.css';\nimport './js/lib';\nimport './js/pagination-lib';\n\nimport './js/modal-user';\n","import { Loading } from 'notiflix/build/notiflix-loading-aio';\nimport * as basicLightbox from 'basiclightbox';\n// import { paginationWatchid, paginationQueue } from \"./pagination-lib\";\nimport { rWatched, rQueue } from './lib';\nimport svgYoutube from '../images/symbol-defs.svg';\nimport {\n  getWatchedFb,\n  addToWatchedFb,\n  removeFromWatchedFb,\n  getQueueFb,\n  addToQueueFb,\n  removeFromQueueFb,\n} from './firebase';\n\n//імпорт Запиту на сервер\nimport { Api } from './url';\nconst ApiP = new Api();\n\n//імпорт ModalClassic для відкриття/закриття модального вікна\nimport ModalClassic from './modalClassic';\nconst Modal = new ModalClassic(\n  '.modal-movie__backdrop',\n  '.modal-movie__btn-close'\n);\n\nconst modalMovi = document.querySelector('.modal-movie__container');\nconst movieDiv = document.querySelector('.movie-list');\n\n// робота з локальним сховищем\nconst localUserId = localStorage.getItem('id-user');\n\nlet localStorageMovi = {\n  watched: [],\n  queue: [],\n};\n\nasync function getOnlineOrOfflineStorage() {\n  if (localUserId) {\n    try {\n      localStorageMovi.watched = await getWatchedFb(localUserId);\n      localStorageMovi.queue = await getQueueFb(localUserId);\n    } catch (error) {\n      console.log(error);\n    }\n  } else {\n    if (localStorage.getItem('watched')) {\n      localStorageMovi = JSON.parse(localStorage.getItem('watched'));\n    } else {\n      localStorage.setItem('watched', JSON.stringify(localStorageMovi));\n    }\n  }\n}\n\ngetOnlineOrOfflineStorage();\n\n// обробка натискання на фільм\nmovieDiv.addEventListener('click', onMoviClick);\n\nasync function onMoviClick(e) {\n  e.preventDefault();\n  if (e.target.nodeName !== 'LI') {\n    return;\n  }\n  Loading.custom('Loading...', {\n    customSvgCode:\n      '<svg width=\"16\" height=\"12\" viewBox=\"0 0 16 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><linearGradient id=\"myG\"  fy=\"0\" gradientTransform=\"rotate(60 .5 .5)\"><stop offset=\"0\" stop-color=\"#f15361\"></stop><stop offset=\".25\" stop-color=\"#ffffff\"><animate attributeName=\"offset\" dur=\"2s\" values=\"0;1;0\"repeatCount=\"indefinite\" /></stop><stop offset=\"1\" stop-color=\"#f15361\"/></linearGradient><path d=\"M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z\" fill=\"url(#myG)\"/></svg>',\n    // backgroundColor: 'rgba(0, 0, 0, 0.8)',\n  });\n  // console.log(e.target);\n  // modalMovi.innerHTML = spinerInMovi();\n  modalMovi.innerHTML = ' ';\n\n  Modal.openModal();\n\n  const idMovie = e.target.dataset.id;\n\n  try {\n    const Seach = await ApiP.fetchCardFilm(idMovie);\n    console.log(Seach);\n    modalMovi.innerHTML = CardFilminHtml(Seach);\n    onBtnInModalMovi(e);\n    Loading.remove(0);\n    try {\n      const Movies = await ApiP.fetchMovies(idMovie);\n      if (Movies.results[0]) {\n        const imageContainer = document.querySelector(\n          '.modal-movie__img-container'\n        );\n        imageContainer.insertAdjacentHTML('beforeend', movieBtnHtml());\n        const moviesBtn = document.querySelector('.modal-movie__movie');\n        moviesBtn.addEventListener(\n          'click',\n          openModalMovi(e, Movies.results[0])\n        );\n      }\n    } catch (error) {\n      console.log(error);\n      console.log('no movie');\n    }\n  } catch (error) {\n    Loading.remove(0);\n    console.log(error);\n    modalMovi.innerHTML = CardFilminHtmlIfError(error);\n  }\n}\n\nfunction openModalMovi(e, Movie) {\n  return async function () {\n    // console.log(e);\n    // console.log(Movie);\n    //  modalMovi.innerHTML = returnMovie(Movie);\n    const options = {\n      className: 'basicLightbox__placeholder--transparent',\n      onShow: () => {\n        window.addEventListener('keydown', onLightboxKeydown);\n      },\n      onClose: () => {\n        window.removeEventListener('keydown', onLightboxKeydown);\n        const modalMoviListener = document.querySelector(\n          '.basicLightbox__placeholder'\n        );\n        modalMoviListener.classList.remove(\n          'basicLightbox__placeholder--transparent'\n        );\n      },\n    };\n    const instance = basicLightbox.create(returnMovie(Movie), options);\n    instance.show();\n\n    function onLightboxKeydown(e) {\n      if (e.code === 'Escape') {\n        instance.close();\n      }\n    }\n  };\n}\n\nasync function onBtnInModalMovi(e) {\n  const idMovie = e.target.outerHTML;\n  const modalMoviInfoBtnWatched = document.querySelector(\n    '.modal-movie__btn-watched'\n  );\n  const modalMoviInfoBtnQueue = document.querySelector(\n    '.modal-movie__btn-queue'\n  );\n\n  modalMoviInfoBtnWatched.addEventListener(\n    'click',\n    changeWatched(e, modalMoviInfoBtnWatched)\n  );\n\n  modalMoviInfoBtnQueue.addEventListener(\n    'click',\n    changeQueue(e, modalMoviInfoBtnQueue)\n  );\n\n  let localStorageWatched = [];\n  let localStorageQueue = [];\n\n  try {\n    if (localUserId) {\n      localStorageWatched = await getWatchedFb(localUserId);\n      localStorageQueue = await getQueueFb(localUserId);\n    } else {\n      localStorageWatched = JSON.parse(localStorage.getItem('watched')).watched;\n      localStorageQueue = JSON.parse(localStorage.getItem('watched')).queue;\n    }\n\n    addCurentInBtn(localStorageWatched, idMovie, modalMoviInfoBtnWatched);\n    addCurentInBtn(localStorageQueue, idMovie, modalMoviInfoBtnQueue);\n\n    textCurentBtnWatched(modalMoviInfoBtnWatched);\n    textCurentBtnQueue(modalMoviInfoBtnQueue);\n  } catch (e) {\n    console.log(e);\n    localStorageWatched = JSON.parse(localStorage.getItem('watched')).watched;\n    localStorageQueue = JSON.parse(localStorage.getItem('watched')).queue;\n\n    addCurentInBtn(localStorageWatched, idMovie, modalMoviInfoBtnWatched);\n    addCurentInBtn(localStorageQueue, idMovie, modalMoviInfoBtnQueue);\n\n    textCurentBtnWatched(modalMoviInfoBtnWatched);\n    textCurentBtnQueue(modalMoviInfoBtnQueue);\n  }\n}\n\n// Додає та видаляє з локального сховища HTML картки\nfunction changeWatched(e, targetEl) {\n  return async function () {\n    const modalMoviInfoBtnQueue = document.querySelector(\n      '.modal-movie__btn-queue'\n    );\n    // console.log(targetEl.dataset.ls);\n    // !JSON.parse(localStorage.getItem('watched')).watched.includes(e.target.outerHTML)\n    if (targetEl.dataset.ls === 'false') {\n      if (localUserId) {\n        try {\n          await addToWatchedFb(localUserId, e.target.outerHTML);\n          addCurentBtn(targetEl);\n          rebootLib();\n        } catch (error) {\n          console.log(error);\n        }\n      } else {\n        localStorageMovi.watched.push(e.target.outerHTML);\n        localStorage.setItem('watched', JSON.stringify(localStorageMovi));\n        // console.log(JSON.stringify(localStorageMovi));\n        addCurentBtn(targetEl);\n        rebootLib();\n      }\n    } else {\n      if (localUserId) {\n        try {\n          await removeFromWatchedFb(localUserId, e.target.outerHTML);\n          removeCurentBtn(targetEl);\n          rebootLib();\n        } catch (error) {\n          console.log(error);\n        }\n      } else {\n        const ingexEl = localStorageMovi.watched.indexOf(e.target.outerHTML);\n\n        localStorageMovi.watched.splice(ingexEl, 1);\n        localStorage.setItem('watched', JSON.stringify(localStorageMovi));\n        removeCurentBtn(targetEl);\n        rebootLib();\n      }\n    }\n    if (localUserId) {\n      try {\n        const getDataQueue = await getQueueFb(localUserId);\n        if (getDataQueue.includes(e.target.outerHTML)) {\n          await removeFromQueueFb(localUserId, e.target.outerHTML);\n          removeCurentBtn(modalMoviInfoBtnQueue);\n          rebootLib();\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    } else {\n      if (\n        JSON.parse(localStorage.getItem('watched')).queue.includes(\n          e.target.outerHTML\n        )\n      ) {\n        // const modalMoviInfoBtnWatched = document.querySelector(\n        //   '.modal-movie__btn-watched'\n        // );\n        // const modalMoviInfoBtnQueue = document.querySelector(\n        //   '.modal-movie__btn-queue'\n        // );\n        const ingexElrem = localStorageMovi.queue.indexOf(e.target.outerHTML);\n\n        localStorageMovi.queue.splice(ingexElrem, 1);\n        localStorage.setItem('watched', JSON.stringify(localStorageMovi));\n        removeCurentBtn(modalMoviInfoBtnQueue);\n        rebootLib();\n      }\n    }\n\n    textCurentBtnWatched(targetEl);\n    modalMoviInfoBtnQueue.innerHTML = 'add to Queue';\n  };\n}\n\nfunction changeQueue(e, targetEl) {\n  return async function () {\n    try {\n      const modalMoviInfoBtnWatched = document.querySelector(\n        '.modal-movie__btn-watched'\n      );\n      // console.log(targetEl.dataset.ls);\n      // !JSON.parse(localStorage.getItem('watched')).queue.includes(e.target.outerHTML)\n      if (targetEl.dataset.ls === 'false') {\n        if (localUserId) {\n          try {\n            await addToQueueFb(localUserId, e.target.outerHTML);\n            addCurentBtn(targetEl);\n            rebootLib();\n          } catch (error) {\n            console.log(error);\n          }\n        } else {\n          localStorageMovi.queue.push(e.target.outerHTML);\n          localStorage.setItem('watched', JSON.stringify(localStorageMovi));\n          // console.log(JSON.stringify(localStorageMovi));\n          addCurentBtn(targetEl);\n          rebootLib();\n        }\n      } else {\n        if (localUserId) {\n          try {\n            await removeFromQueueFb(localUserId, e.target.outerHTML);\n            removeCurentBtn(targetEl);\n            rebootLib();\n          } catch (error) {\n            console.log(error);\n          }\n        } else {\n          const ingexEl = localStorageMovi.queue.indexOf(e.target.outerHTML);\n\n          localStorageMovi.queue.splice(ingexEl, 1);\n          localStorage.setItem('watched', JSON.stringify(localStorageMovi));\n          removeCurentBtn(targetEl);\n          rebootLib();\n        }\n      }\n      if (localUserId) {\n        try {\n          const fetchDataWatched = await getWatchedFb(localUserId);\n          if (fetchDataWatched.includes(e.target.outerHTML)) {\n            await removeFromWatchedFb(localUserId, e.target.outerHTML);\n            removeCurentBtn(modalMoviInfoBtnWatched);\n            rebootLib();\n          }\n        } catch (error) {\n          console.log(error);\n        }\n      } else {\n        if (\n          JSON.parse(localStorage.getItem('watched')).watched.includes(\n            e.target.outerHTML\n          )\n        ) {\n          // const modalMoviInfoBtnWatched = document.querySelector(\n          //   '.modal-movie__btn-watched'\n          // );\n          // const modalMoviInfoBtnQueue = document.querySelector(\n          //   '.modal-movie__btn-queue'\n          // );\n          const ingexElrem = localStorageMovi.watched.indexOf(\n            e.target.outerHTML\n          );\n\n          localStorageMovi.watched.splice(ingexElrem, 1);\n          localStorage.setItem('watched', JSON.stringify(localStorageMovi));\n          removeCurentBtn(modalMoviInfoBtnWatched);\n          rebootLib();\n        }\n      }\n      textCurentBtnQueue(targetEl);\n      modalMoviInfoBtnWatched.innerHTML = 'add to Watched';\n    } catch {}\n  };\n}\n\n// Додає/видаляє класс з кнопки\n\nfunction addCurentInBtn(arr, element, btn) {\n  if (arr.includes(element)) {\n    addCurentBtn(btn);\n  } else {\n    removeCurentBtn(btn);\n  }\n}\n\nfunction addCurentBtn(btn) {\n  btn.classList.add('modal-movie__btn--curent');\n  btn.dataset.ls = 'true';\n}\n\nfunction removeCurentBtn(btn) {\n  btn.classList.remove('modal-movie__btn--curent');\n  btn.dataset.ls = 'false';\n}\n\n// Змінює текст кнопки\nfunction textCurentBtnWatched(btn) {\n  if (btn.dataset.ls === 'false') {\n    btn.innerHTML = 'add to Watched';\n  } else {\n    btn.innerHTML = 'remove from Watched';\n  }\n}\n\nfunction textCurentBtnQueue(btn) {\n  if (btn.dataset.ls === 'false') {\n    btn.innerHTML = 'add to Queue';\n  } else {\n    btn.innerHTML = 'remove from Queue';\n  }\n}\n\n// створює розмітку для модалки\nfunction CardFilminHtml(data) {\n  const genresArr = [];\n  data.genres.length\n    ? data.genres.map(genre => {\n        genresArr.push(genre.name);\n      })\n    : '';\n  return `\n  <div class=\"modal-movie__img-container\">\n  <img class=\"modal-movie__img\" loading=\"lazy\" src=\"${\n    data.poster_path\n      ? 'https://image.tmdb.org/t/p/w500' + data.poster_path\n      : 'https://i.postimg.cc/6pzyh7Wc/pngwing-com.png'\n  }\" alt=\"${\n    data.original_title || data.original_name\n  }\" width=\"240\" height=\"357\" />\n  ${\n    data.production_companies.length\n      ? data.production_companies[0].logo_path\n        ? ` <img class=\"modal-movie__img-company\" loading=\"lazy\" src=\"${\n            data.production_companies[0].logo_path\n              ? 'https://image.tmdb.org/t/p/w500' +\n                data.production_companies[0].logo_path\n              : '-'\n          }\" alt=\"${\n            data.production_companies[0].name || 'logo company'\n          }\" width=\"240\" height=\"357\" />`\n        : ''\n      : ' '\n  }\n  \n  </div>\n    \n    <div>\n      <h1 class=\"modal-movie__title\">${\n        data.original_title || data.original_name\n          ? data.original_title || data.original_name\n          : '-'\n      }</h1>\n      <ul class=\"modal-movie__list\">\n        <li class=\"modal-movie__item\">\n          <p class=\"modal-movie__item-categories\">Vote / Votes</p>\n          <p class=\"modal-movie__item-inf\">\n            <span class=\"modal-movie__item-vote\">${data.vote_average}</span> /\n            <span class=\"modal-movie__item-votes\">${data.vote_count}</span>\n          </p>\n        </li>\n        <li class=\"modal-movie__item\">\n          <p class=\"modal-movie__item-categories\">Popularity</p>\n          <p class=\"modal-movie__item-inf\">${data.popularity}</p>\n        </li>\n        <li class=\"modal-movie__item\">\n          <p class=\"modal-movie__item-categories\">Original Title </p>\n          <p class=\"modal-movie__item-inf modal-movie__item-inf--uppercase\">\n            ${data.original_title}\n          </p>\n        </li>\n        <li class=\"modal-movie__item\">\n          <p class=\"modal-movie__item-categories\">Genre</p>\n          <p class=\"modal-movie__item-inf\">${\n            genresArr.length > 0 ? genresArr.join(', ') : '-'\n          }</p>\n        </li>\n      </ul>\n      <h2 class=\"modal-movie__about\">About</h2>\n      <p class=\"modal-movie__about-text\">\n        ${data.overview.length > 0 ? data.overview : 'Absent...'}\n      </p>\n      <div class=\"modal-movie__btn-section\">\n        <button\n            class=\"modal-movie__btn modal-movie__btn--margin modal-movie__btn-watched\"\n            type=\"button\" data-ls='false'\n          >\n            add to Watched\n          </button>\n          <button class=\"modal-movie__btn modal-movie__btn-queue\" type=\"button\" data-ls='false'>add to queue</button>\n      </div>\n    </div>\n      `;\n}\n\n// створює розмітку для модалки у випадку помилки\nfunction CardFilminHtmlIfError(Error) {\n  return `\n    <div class=\"error-message\">\n    <h1>${Error.response.status}</h1>\n    <h2>${Error.name}</h2>\n    <h3>${Error.message}</h3>\n<p>try later</p>\n    </div>\n    \n      `;\n}\n\nfunction movieBtnHtml() {\n  return `\n      <button type=\"button\" class=\"modal-movie__movie\">\n      <svg class=\"icon modal-movie__icon\" width=\"40\" height=\"40\">\n      <use xlink:href=\"${svgYoutube}#icon-youtube\"></use>\n      </svg>\n    </button>  \n      `;\n}\n\nfunction returnMovie(Movie) {\n  return `\n  <div class='movie-iframe'>\n<iframe frameborder=\"0\" allowfullscreen=\"1\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" title=\"${Movie.name}\" width=\"100%\" height=\"100%\" src=\"https://www.youtube.com/embed/${Movie.key}\"></iframe>\n  </div>\n  `;\n}\n\nfunction rebootLib() {\n  const btnWatched = document.querySelector('.button-watched');\n  const btnQueue = document.querySelector('.button-queue');\n\n  if (btnWatched.dataset.active === 'true') {\n    rWatched();\n    // paginationWatchid();\n  }\n  if (btnQueue.dataset.active === 'true') {\n    rQueue();\n    // paginationQueue();\n  }\n}\n","import { async } from '@firebase/util';\nimport { getQueueFb, getWatchedFb } from './firebase';\nimport { paginationWatchid, paginationQueue } from './pagination-lib';\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\n\nconst listWatched = document.querySelector('.movie-list');\nconst libSection = document.querySelector('.movie-popular-lib');\nconst bacgroundLib = document.querySelector('.bacground-lib');\n\nconst btnWatched = document.querySelector('.button-watched');\nconst btnQueue = document.querySelector('.button-queue');\n\nbtnWatched.addEventListener('click', rWatched);\n\nbtnQueue.addEventListener('click', rQueue);\n\nconst localUserId = localStorage.getItem('id-user');\nlet localQueue = [];\nlet localWatched = [];\n\ngetOnlineOrOfflineStorage();\n\nasync function getOnlineOrOfflineStorage() {\n  if (localUserId) {\n    try {\n      Loading.custom('Loading...', {\n        customSvgCode:\n          '<svg width=\"16\" height=\"12\" viewBox=\"0 0 16 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><linearGradient id=\"myG\"  fy=\"0\" gradientTransform=\"rotate(60 .5 .5)\"><stop offset=\"0\" stop-color=\"#f15361\"></stop><stop offset=\".25\" stop-color=\"#ffffff\"><animate attributeName=\"offset\" dur=\"2s\" values=\"0;1;0\"repeatCount=\"indefinite\" /></stop><stop offset=\"1\" stop-color=\"#f15361\"/></linearGradient><path d=\"M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z\" fill=\"url(#myG)\"/></svg>',\n        backgroundColor: 'rgba(0, 0, 0, 0.8)',\n      });\n      localWatched = await getWatchedFb(localUserId);\n      localQueue = await getQueueFb(localUserId);\n      if (localWatched.length === 0) {\n        rQueue();\n      } else {\n        rWatched();\n      }\n      Loading.remove(2000);\n    } catch (error) {\n      Loading.remove(2000);\n      console.log(error);\n    }\n  } else {\n    localWatched = JSON.parse(localStorage.getItem('watched')).watched;\n    localQueue = JSON.parse(localStorage.getItem('watched')).queue;\n    if (localWatched.length === 0) {\n      rQueue();\n    } else {\n      rWatched();\n    }\n  }\n}\n\nexport async function rWatched() {\n  getWatched('watched', 1);\n  paginationWatchid();\n  let localWatched;\n  if (localUserId) {\n    try {\n      localWatched = await getWatchedFb(localUserId);\n\n      if (localWatched.length === 0) {\n        listWatched.innerHTML = '';\n        libSection.classList.add('non-display');\n        bacgroundLib.classList.remove('non-display');\n      } else {\n        libSection.classList.remove('non-display');\n        bacgroundLib.classList.add('non-display');\n      }\n\n      btnWatched.classList.add('button--lib-active');\n      btnQueue.classList.remove('button--lib-active');\n\n      btnWatched.dataset.active = true;\n      btnQueue.dataset.active = false;\n    } catch (error) {\n      console.log(error);\n    }\n  } else {\n    localWatched = JSON.parse(localStorage.getItem('watched')).watched;\n\n    if (localWatched.length === 0) {\n      listWatched.innerHTML = '';\n      libSection.classList.add('non-display');\n      bacgroundLib.classList.remove('non-display');\n    } else {\n      libSection.classList.remove('non-display');\n      bacgroundLib.classList.add('non-display');\n    }\n\n    btnWatched.classList.add('button--lib-active');\n    btnQueue.classList.remove('button--lib-active');\n\n    btnWatched.dataset.active = true;\n    btnQueue.dataset.active = false;\n  }\n}\n\nexport async function rQueue() {\n  getWatched('queue', 1);\n  paginationQueue();\n\n  let localQueue;\n\n  if (localUserId) {\n    try {\n      localQueue = await getQueueFb(localUserId);\n      if (localQueue.length === 0) {\n        listWatched.innerHTML = '';\n        libSection.classList.add('non-display');\n        bacgroundLib.classList.remove('non-display');\n      } else {\n        libSection.classList.remove('non-display');\n        bacgroundLib.classList.add('non-display');\n      }\n\n      btnQueue.classList.add('button--lib-active');\n      btnWatched.classList.remove('button--lib-active');\n\n      btnQueue.dataset.active = true;\n      btnWatched.dataset.active = false;\n    } catch (error) {\n      console.log(error);\n    }\n  } else {\n    localQueue = JSON.parse(localStorage.getItem('watched')).queue;\n    if (localQueue.length === 0) {\n      listWatched.innerHTML = '';\n      libSection.classList.add('non-display');\n      bacgroundLib.classList.remove('non-display');\n    } else {\n      libSection.classList.remove('non-display');\n      bacgroundLib.classList.add('non-display');\n    }\n\n    btnQueue.classList.add('button--lib-active');\n    btnWatched.classList.remove('button--lib-active');\n\n    btnQueue.dataset.active = true;\n    btnWatched.dataset.active = false;\n  }\n}\n\nexport async function getWatched(name, page) {\n  let localWatched;\n  if (localUserId) {\n    try {\n      if (name === 'watched') {\n        localWatched = await getWatchedFb(localUserId);\n      } else {\n        localWatched = await getQueueFb(localUserId);\n      }\n      let begin = 20 * page - 20;\n      const end = 20 * page;\n      if (page === 1) {\n        begin = 0;\n      }\n\n      const slice = localWatched.slice(begin, end).join('');\n      listWatched.innerHTML = slice;\n    } catch (error) {\n      console.log(error);\n    }\n  } else {\n    localWatched = JSON.parse(localStorage.getItem('watched'))[name];\n\n    let begin = 20 * page - 20;\n    const end = 20 * page;\n    if (page === 1) {\n      begin = 0;\n    }\n\n    const slice = localWatched.slice(begin, end).join('');\n    listWatched.innerHTML = slice;\n  }\n\n  // console.log(localWatched);\n}\n","import Pagination from 'tui-pagination';\nimport { getWatched } from './lib';\nimport { refs } from './refs';\n\nconst localUserId = localStorage.getItem('id-user');\n\nexport function paginationWatchid() {\n  const optionsPop = {\n    totalItems: localUserId\n      ? JSON.parse(localStorage.getItem('WatchedFb'))\n      : JSON.parse(localStorage.getItem('watched')).watched.length,\n    itemsPerPage: 20,\n    visiblePages: window.screen.width <= 400 ? 2 : 5,\n    page: 1,\n    centerAlign: true,\n    firstItemClassName: 'tui-first-child',\n    lastItemClassName: 'tui-last-child',\n    template: {\n      page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n      currentPage:\n        '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n      moveButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</a>',\n      disabledMoveButton:\n        '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</span>',\n      moreButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n        '</a>',\n    },\n  };\n\n  const paginationPop = new Pagination('pagination', optionsPop);\n\n  paginationPop.on('afterMove', async function (eventData) {\n    resetGallery();\n\n    getWatched('watched', eventData.page);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  });\n  removeHiddenPagination();\n  if (optionsPop.totalItems <= 20) {\n    addHiddenPagination();\n  }\n}\n\nexport function paginationQueue() {\n  const optionsPop = {\n    totalItems: localUserId\n      ? JSON.parse(localStorage.getItem('QueueFb'))\n      : JSON.parse(localStorage.getItem('watched')).queue.length,\n    itemsPerPage: 20,\n    visiblePages: window.screen.width <= 400 ? 2 : 5,\n    page: 1,\n    centerAlign: true,\n    firstItemClassName: 'tui-first-child',\n    lastItemClassName: 'tui-last-child',\n    template: {\n      page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n      currentPage:\n        '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n      moveButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</a>',\n      disabledMoveButton:\n        '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</span>',\n      moreButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n        '</a>',\n    },\n  };\n\n  const paginationPop = new Pagination('pagination', optionsPop);\n\n  paginationPop.on('afterMove', async function (eventData) {\n    resetGallery();\n\n    getWatched('queue', eventData.page);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  });\n\n  removeHiddenPagination();\n  if (optionsPop.totalItems <= 20) {\n    addHiddenPagination();\n  }\n}\n\n// ховає пагінацію\nexport function addHiddenPagination() {\n  const paginationHtml = document.querySelector('#pagination');\n  paginationHtml.classList.add('visually-hidden');\n}\n\nexport function removeHiddenPagination() {\n  const paginationHtml = document.querySelector('#pagination');\n  paginationHtml.classList.remove('visually-hidden');\n}\n\nfunction resetGallery() {\n  refs.list.innerHTML = '';\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9v6fF\")).toString();","import { refs } from './refs';\nimport ModalClassic from './modalClassic';\nimport {\n  createUser,\n  singInAccount,\n  createNewUser,\n  getWatched,\n  getQueue,\n  getUserInfo,\n} from './firebase';\nimport { Notify } from 'notiflix';\nimport { Loading } from 'notiflix';\n\nconst ModalReg = new ModalClassic(\n  '.wrapper-modal-user',\n  '.modal-user__btn-close'\n);\n\n// check auth\nconst checkAuth = localStorage.getItem('email-user');\n\nif (checkAuth) {\n  refs.loginBtn.innerHTML = checkAuth;\n}\n\nrefs.loginBtn?.addEventListener('click', singOutHandler);\n\nconst formRegister = document.querySelector('.modal-register');\nformRegister?.addEventListener('click', registrationHandler);\n\nasync function registrationHandler(evt) {\n  evt.preventDefault();\n  const user = {\n    email: evt.currentTarget['email-reg'].value,\n    password: evt.currentTarget['password-reg'].value,\n  };\n\n  const typeBtn = evt.path[0].name;\n\n  if (typeBtn === 'btn-auth') {\n    try {\n      const dataUser = await singInAccount(user.email, user.password);\n      saveDataAndCloseModal(dataUser.user.uid, user.email);\n      Notify.success(`Welcome back!`);\n      setTimeout(() => {\n        location.reload();\n      }, 1000);\n    } catch (error) {\n      console.log(error);\n    }\n  } else if (typeBtn === 'btn-reg') {\n    try {\n      const dataUser = await createUser(user.email, user.password);\n      saveDataAndCloseModal(dataUser.user.uid, user.email);\n      createNewUser({ id: dataUser.user.uid, email: user.email });\n      Notify.success(`Succes! Your email: ${user.email}`);\n      setTimeout(() => {\n        location.reload();\n      }, 1000);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\n\nconst refSignOutBtn = document.querySelector('.sign-out__button');\nrefSignOutBtn?.addEventListener('click', evt => {\n  localStorage.removeItem('id-user');\n  localStorage.removeItem('email-user');\n  location.reload();\n});\n\nfunction saveDataAndCloseModal(id, email) {\n  localStorage.setItem('id-user', id);\n  localStorage.setItem('email-user', email);\n  refs.loginBtn.innerHTML = email;\n\n  ModalReg.modal.classList.add('is-hidden');\n  document.body.classList.remove('body--hidden');\n}\n\nasync function singOutHandler() {\n  const refAcc = {\n    wrap: document.querySelector('.sign-out__wrap'),\n    register: document.querySelector('.modal-register'),\n    email: document.querySelector('.account-info__email'),\n    watched: document.querySelector('.account-info__count-watched'),\n    queue: document.querySelector('.account-info__count-queue'),\n  };\n\n  const emailLocal = localStorage.getItem('email-user');\n\n  if (emailLocal) {\n    const userId = localStorage.getItem('id-user');\n    try {\n      Loading.custom('Loading...', {\n        customSvgCode:\n          '<svg width=\"16\" height=\"12\" viewBox=\"0 0 16 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><linearGradient id=\"myG\"  fy=\"0\" gradientTransform=\"rotate(60 .5 .5)\"><stop offset=\"0\" stop-color=\"#f15361\"></stop><stop offset=\".25\" stop-color=\"#ffffff\"><animate attributeName=\"offset\" dur=\"2s\" values=\"0;1;0\"repeatCount=\"indefinite\" /></stop><stop offset=\"1\" stop-color=\"#f15361\"/></linearGradient><path d=\"M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z\" fill=\"url(#myG)\"/></svg>',\n        backgroundColor: 'rgba(0, 0, 0, 0.8)',\n      });\n      const dataUser = await getUserInfo(userId);\n      Loading.remove(100);\n      ModalReg.openModal();\n      refAcc.wrap.classList.remove('visually-hidden');\n      refAcc.register.classList.add('visually-hidden');\n\n      refAcc.email.innerHTML = `Your email: <b>${emailLocal}</b>`;\n      refAcc.watched.innerHTML = `You watched: <b>${dataUser.watched.length}</b> films!`;\n      refAcc.queue.innerHTML = `You added to queue: <b>${dataUser.queue.length}</b> films!`;\n    } catch (error) {\n      console.log(error);\n    }\n  } else {\n    ModalReg.openModal();\n  }\n}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$dSs1Y","$fb9GJ","$903aa851c660180a$var$localUserId","localStorage","getItem","$903aa851c660180a$export$1f300efe7f5bc4b6","optionsPop","totalItems","watched","itemsPerPage","visiblePages","window","screen","width","page","centerAlign","firstItemClassName","lastItemClassName","template","currentPage","moveButton","disabledMoveButton","moreButton","$parcel$interopDefault","on","async","eventData","$903aa851c660180a$var$resetGallery","$907d61784e974f19$export$f27434f777dd4ed3","scrollTo","top","behavior","$903aa851c660180a$export$950035b07f4e6cc8","$903aa851c660180a$export$f2febb177d6b71e1","$903aa851c660180a$export$e384d1e38b4b8ac7","queue","document","querySelector","classList","add","remove","$krGWQ","refs","list","innerHTML","$907d61784e974f19$var$listWatched","$907d61784e974f19$var$libSection","$907d61784e974f19$var$bacgroundLib","$907d61784e974f19$var$btnWatched","$907d61784e974f19$var$btnQueue","addEventListener","$907d61784e974f19$export$cc750f1fac74ca4c","$907d61784e974f19$export$e035904e86fe5c1b","$907d61784e974f19$var$localUserId","$907d61784e974f19$var$localQueue","$907d61784e974f19$var$localWatched","localWatched1","$2ix2C","getWatchedFb","dataset","active","error","console","log","localQueue1","getQueueFb","name","localWatched2","begin","end","slice","join","Loading","custom","customSvgCode","backgroundColor","$907d61784e974f19$var$getOnlineOrOfflineStorage","$10db6f286535da77$exports","URL","resolve","import","meta","url","toString","$d164ca1f60e5dd8e$var$ApiP","$58den","Api","$d164ca1f60e5dd8e$var$Modal","$5XRb5","default","$d164ca1f60e5dd8e$var$modalMovi","$d164ca1f60e5dd8e$var$movieDiv","$d164ca1f60e5dd8e$var$localUserId","$d164ca1f60e5dd8e$var$localStorageMovi","$d164ca1f60e5dd8e$var$addCurentInBtn","arr","element","btn","includes","$d164ca1f60e5dd8e$var$addCurentBtn","$d164ca1f60e5dd8e$var$removeCurentBtn","ls","$d164ca1f60e5dd8e$var$textCurentBtnWatched","$d164ca1f60e5dd8e$var$textCurentBtnQueue","$d164ca1f60e5dd8e$var$rebootLib","btnWatched","btnQueue","setItem","stringify","$d164ca1f60e5dd8e$var$getOnlineOrOfflineStorage","e","preventDefault","target","nodeName","openModal","idMovie","Seach","fetchCardFilm","data","genresArr","genres","map","genre","push","poster_path","original_title","original_name","production_companies","logo_path","vote_average","vote_count","popularity","overview","$d164ca1f60e5dd8e$var$CardFilminHtml","outerHTML","modalMoviInfoBtnWatched","modalMoviInfoBtnQueue","targetEl","addToWatchedFb","removeFromWatchedFb","ingexEl","indexOf","splice","removeFromQueueFb","ingexElrem","$d164ca1f60e5dd8e$var$changeWatched","addToQueueFb","$d164ca1f60e5dd8e$var$changeQueue","localStorageWatched","localStorageQueue","e2","$d164ca1f60e5dd8e$var$onBtnInModalMovi","Movies","fetchMovies","results","insertAdjacentHTML","Movie","options","className","onShow","onLightboxKeydown","onClose","removeEventListener","instance","$9B8F0","create","key","$d164ca1f60e5dd8e$var$returnMovie","code","close","show","response","status","message","$d164ca1f60e5dd8e$var$CardFilminHtmlIfError","$50171305683b5dda$var$ref","$50171305683b5dda$var$ModalReg","$50171305683b5dda$var$checkAuth","loginBtn","refAcc","wrap","email","emailLocal","userId","$eWCmQ","dataUser","getUserInfo","$50171305683b5dda$var$formRegister","evt","user","currentTarget","value","password","typeBtn","path","$50171305683b5dda$var$saveDataAndCloseModal","singInAccount","uid","Notify","success","setTimeout","location","reload","createUser","createNewUser","error1","$50171305683b5dda$var$refSignOutBtn","modal","body","removeItem"],"version":3,"file":"lib.0992a826.js.map"}