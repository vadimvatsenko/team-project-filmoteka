{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-b78fbe6dec358c2d.js","src/lib-index.js","src/js/movie-info-lib.js","src/js/lib.js","src/js/pagination-lib.js","node_modules/@parcel/runtime-js/lib/runtime-8cb0966dc6fc3043.js","src/js/modal-user.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"N9b3R\\\":\\\"lib.e95ef4fb.js\\\",\\\"kxKJ3\\\":\\\"symbol-defs.77c8385e.svg\\\",\\\"5UbS1\\\":\\\"index.5f402c17.css\\\",\\\"k8Gra\\\":\\\"index.9cd2ba6e.js\\\"}\"));","import './js/scroll';\nimport './js/firebase';\nimport './js/components/change-theme';\n// import './js/pagination';\nimport './js/spiner';\nimport './js/movie-info-lib';\n\nimport './js/team_modal';\nimport '../node_modules/basiclightbox/dist/basicLightbox.min.css';\nimport './js/lib';\nimport './js/pagination-lib';\n\nimport './js/modal-user';\n","import { Loading } from 'notiflix/build/notiflix-loading-aio';\nimport * as basicLightbox from 'basiclightbox';\n// import { paginationWatchid, paginationQueue } from \"./pagination-lib\";\nimport { rWatched, rQueue } from './lib';\nimport svgYoutube from '../images/symbol-defs.svg';\nimport {\n  getWatchedFb,\n  addToWatchedFb,\n  removeFromWatchedFb,\n  getQueueFb,\n  addToQueueFb,\n  removeFromQueueFb,\n} from './firebase';\n\n//імпорт Запиту на сервер\nimport { Api } from './url';\nconst ApiP = new Api();\n\n//імпорт ModalClassic для відкриття/закриття модального вікна\nimport ModalClassic from './modalClassic';\nconst Modal = new ModalClassic(\n  '.modal-movie__backdrop',\n  '.modal-movie__btn-close'\n);\n\nconst modalMovi = document.querySelector('.modal-movie__container');\nconst movieDiv = document.querySelector('.movie-list');\n\n// робота з локальним сховищем\nconst localUserId = localStorage.getItem('id-user');\n\nlet localStorageMovi = {\n  watched: [],\n  queue: [],\n};\n\nasync function getOnlineOrOfflineStorage() {\n  if (localUserId) {\n    try {\n      localStorageMovi.watched = await getWatchedFb(localUserId);\n      localStorageMovi.queue = await getQueueFb(localUserId);\n    } catch (error) {\n      console.log(error);\n    }\n  } else {\n    if (localStorage.getItem('watched')) {\n      localStorageMovi = JSON.parse(localStorage.getItem('watched'));\n    } else {\n      localStorage.setItem('watched', JSON.stringify(localStorageMovi));\n    }\n  }\n}\n\ngetOnlineOrOfflineStorage();\n\n// обробка натискання на фільм\nmovieDiv.addEventListener('click', onMoviClick);\n\nasync function onMoviClick(e) {\n  e.preventDefault();\n  if (e.target.nodeName !== 'LI') {\n    return;\n  }\n  Loading.custom('Loading...', {\n    customSvgCode:\n      '<svg width=\"16\" height=\"12\" viewBox=\"0 0 16 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><linearGradient id=\"myG\"  fy=\"0\" gradientTransform=\"rotate(60 .5 .5)\"><stop offset=\"0\" stop-color=\"#f15361\"></stop><stop offset=\".25\" stop-color=\"#ffffff\"><animate attributeName=\"offset\" dur=\"2s\" values=\"0;1;0\"repeatCount=\"indefinite\" /></stop><stop offset=\"1\" stop-color=\"#f15361\"/></linearGradient><path d=\"M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z\" fill=\"url(#myG)\"/></svg>',\n    // backgroundColor: 'rgba(0, 0, 0, 0.8)',\n  });\n  // console.log(e.target);\n  // modalMovi.innerHTML = spinerInMovi();\n  modalMovi.innerHTML = ' ';\n\n  Modal.openModal();\n\n  const idMovie = e.target.dataset.id;\n\n  try {\n    const Seach = await ApiP.fetchCardFilm(idMovie);\n    console.log(Seach);\n    modalMovi.innerHTML = CardFilminHtml(Seach);\n    onBtnInModalMovi(e);\n    Loading.remove(0);\n    try {\n      const Movies = await ApiP.fetchMovies(idMovie);\n      if (Movies.results[0]) {\n        const imageContainer = document.querySelector(\n          '.modal-movie__img-container'\n        );\n        imageContainer.insertAdjacentHTML('beforeend', movieBtnHtml());\n        const moviesBtn = document.querySelector('.modal-movie__movie');\n        moviesBtn.addEventListener(\n          'click',\n          openModalMovi(e, Movies.results[0])\n        );\n      }\n    } catch (error) {\n      console.log(error);\n      console.log('no movie');\n    }\n  } catch (error) {\n    Loading.remove(0);\n    console.log(error);\n    modalMovi.innerHTML = CardFilminHtmlIfError(error);\n  }\n}\n\nfunction openModalMovi(e, Movie) {\n  return async function () {\n    // console.log(e);\n    // console.log(Movie);\n    //  modalMovi.innerHTML = returnMovie(Movie);\n    const options = {\n      className: 'basicLightbox__placeholder--transparent',\n      onShow: () => {\n        window.addEventListener('keydown', onLightboxKeydown);\n      },\n      onClose: () => {\n        window.removeEventListener('keydown', onLightboxKeydown);\n        const modalMoviListener = document.querySelector(\n          '.basicLightbox__placeholder'\n        );\n        modalMoviListener.classList.remove(\n          'basicLightbox__placeholder--transparent'\n        );\n      },\n    };\n    const instance = basicLightbox.create(returnMovie(Movie), options);\n    instance.show();\n\n    function onLightboxKeydown(e) {\n      if (e.code === 'Escape') {\n        instance.close();\n      }\n    }\n  };\n}\n\nasync function onBtnInModalMovi(e) {\n  const idMovie = e.target.outerHTML;\n  const modalMoviInfoBtnWatched = document.querySelector(\n    '.modal-movie__btn-watched'\n  );\n  const modalMoviInfoBtnQueue = document.querySelector(\n    '.modal-movie__btn-queue'\n  );\n\n  modalMoviInfoBtnWatched.addEventListener(\n    'click',\n    changeWatched(e, modalMoviInfoBtnWatched)\n  );\n\n  modalMoviInfoBtnQueue.addEventListener(\n    'click',\n    changeQueue(e, modalMoviInfoBtnQueue)\n  );\n\n  let localStorageWatched = [];\n  let localStorageQueue = [];\n\n  try {\n    if (localUserId) {\n      localStorageWatched = await getWatchedFb(localUserId);\n      localStorageQueue = await getQueueFb(localUserId);\n    } else {\n      localStorageWatched = JSON.parse(localStorage.getItem('watched')).watched;\n      localStorageQueue = JSON.parse(localStorage.getItem('watched')).queue;\n    }\n\n    addCurentInBtn(localStorageWatched, idMovie, modalMoviInfoBtnWatched);\n    addCurentInBtn(localStorageQueue, idMovie, modalMoviInfoBtnQueue);\n\n    textCurentBtnWatched(modalMoviInfoBtnWatched);\n    textCurentBtnQueue(modalMoviInfoBtnQueue);\n  } catch (e) {\n    console.log(e);\n    localStorageWatched = JSON.parse(localStorage.getItem('watched')).watched;\n    localStorageQueue = JSON.parse(localStorage.getItem('watched')).queue;\n\n    addCurentInBtn(localStorageWatched, idMovie, modalMoviInfoBtnWatched);\n    addCurentInBtn(localStorageQueue, idMovie, modalMoviInfoBtnQueue);\n\n    textCurentBtnWatched(modalMoviInfoBtnWatched);\n    textCurentBtnQueue(modalMoviInfoBtnQueue);\n  }\n}\n\n// Додає та видаляє з локального сховища HTML картки\nfunction changeWatched(e, targetEl) {\n  return async function () {\n    const modalMoviInfoBtnQueue = document.querySelector(\n      '.modal-movie__btn-queue'\n    );\n    // console.log(targetEl.dataset.ls);\n    // !JSON.parse(localStorage.getItem('watched')).watched.includes(e.target.outerHTML)\n    if (targetEl.dataset.ls === 'false') {\n      if (localUserId) {\n        try {\n          await addToWatchedFb(localUserId, e.target.outerHTML);\n          addCurentBtn(targetEl);\n          rebootLib();\n        } catch (error) {\n          console.log(error);\n        }\n      } else {\n        localStorageMovi.watched.push(e.target.outerHTML);\n        localStorage.setItem('watched', JSON.stringify(localStorageMovi));\n        // console.log(JSON.stringify(localStorageMovi));\n        addCurentBtn(targetEl);\n        rebootLib();\n      }\n    } else {\n      if (localUserId) {\n        try {\n          await removeFromWatchedFb(localUserId, e.target.outerHTML);\n          removeCurentBtn(targetEl);\n          rebootLib();\n        } catch (error) {\n          console.log(error);\n        }\n      } else {\n        const ingexEl = localStorageMovi.watched.indexOf(e.target.outerHTML);\n\n        localStorageMovi.watched.splice(ingexEl, 1);\n        localStorage.setItem('watched', JSON.stringify(localStorageMovi));\n        removeCurentBtn(targetEl);\n        rebootLib();\n      }\n    }\n    if (localUserId) {\n      try {\n        const getDataQueue = await getQueueFb(localUserId);\n        if (getDataQueue.includes(e.target.outerHTML)) {\n          await removeFromQueueFb(localUserId, e.target.outerHTML);\n          removeCurentBtn(modalMoviInfoBtnQueue);\n          rebootLib();\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    } else {\n      if (\n        JSON.parse(localStorage.getItem('watched')).queue.includes(\n          e.target.outerHTML\n        )\n      ) {\n        // const modalMoviInfoBtnWatched = document.querySelector(\n        //   '.modal-movie__btn-watched'\n        // );\n        // const modalMoviInfoBtnQueue = document.querySelector(\n        //   '.modal-movie__btn-queue'\n        // );\n        const ingexElrem = localStorageMovi.queue.indexOf(e.target.outerHTML);\n\n        localStorageMovi.queue.splice(ingexElrem, 1);\n        localStorage.setItem('watched', JSON.stringify(localStorageMovi));\n        removeCurentBtn(modalMoviInfoBtnQueue);\n        rebootLib();\n      }\n    }\n\n    textCurentBtnWatched(targetEl);\n    modalMoviInfoBtnQueue.innerHTML = 'add to Queue';\n  };\n}\n\nfunction changeQueue(e, targetEl) {\n  return async function () {\n    try {\n      const modalMoviInfoBtnWatched = document.querySelector(\n        '.modal-movie__btn-watched'\n      );\n      // console.log(targetEl.dataset.ls);\n      // !JSON.parse(localStorage.getItem('watched')).queue.includes(e.target.outerHTML)\n      if (targetEl.dataset.ls === 'false') {\n        if (localUserId) {\n          try {\n            await addToQueueFb(localUserId, e.target.outerHTML);\n            addCurentBtn(targetEl);\n            rebootLib();\n          } catch (error) {\n            console.log(error);\n          }\n        } else {\n          localStorageMovi.queue.push(e.target.outerHTML);\n          localStorage.setItem('watched', JSON.stringify(localStorageMovi));\n          // console.log(JSON.stringify(localStorageMovi));\n          addCurentBtn(targetEl);\n          rebootLib();\n        }\n      } else {\n        if (localUserId) {\n          try {\n            await removeFromQueueFb(localUserId, e.target.outerHTML);\n            removeCurentBtn(targetEl);\n            rebootLib();\n          } catch (error) {\n            console.log(error);\n          }\n        } else {\n          const ingexEl = localStorageMovi.queue.indexOf(e.target.outerHTML);\n\n          localStorageMovi.queue.splice(ingexEl, 1);\n          localStorage.setItem('watched', JSON.stringify(localStorageMovi));\n          removeCurentBtn(targetEl);\n          rebootLib();\n        }\n      }\n      if (localUserId) {\n        try {\n          const fetchDataWatched = await getWatchedFb(localUserId);\n          if (fetchDataWatched.includes(e.target.outerHTML)) {\n            await removeFromWatchedFb(localUserId, e.target.outerHTML);\n            removeCurentBtn(modalMoviInfoBtnWatched);\n            rebootLib();\n          }\n        } catch (error) {\n          console.log(error);\n        }\n      } else {\n        if (\n          JSON.parse(localStorage.getItem('watched')).watched.includes(\n            e.target.outerHTML\n          )\n        ) {\n          // const modalMoviInfoBtnWatched = document.querySelector(\n          //   '.modal-movie__btn-watched'\n          // );\n          // const modalMoviInfoBtnQueue = document.querySelector(\n          //   '.modal-movie__btn-queue'\n          // );\n          const ingexElrem = localStorageMovi.watched.indexOf(\n            e.target.outerHTML\n          );\n\n          localStorageMovi.watched.splice(ingexElrem, 1);\n          localStorage.setItem('watched', JSON.stringify(localStorageMovi));\n          removeCurentBtn(modalMoviInfoBtnWatched);\n          rebootLib();\n        }\n      }\n      textCurentBtnQueue(targetEl);\n      modalMoviInfoBtnWatched.innerHTML = 'add to Watched';\n    } catch {}\n  };\n}\n\n// Додає/видаляє класс з кнопки\n\nfunction addCurentInBtn(arr, element, btn) {\n  if (arr.includes(element)) {\n    addCurentBtn(btn);\n  } else {\n    removeCurentBtn(btn);\n  }\n}\n\nfunction addCurentBtn(btn) {\n  btn.classList.add('modal-movie__btn--curent');\n  btn.dataset.ls = 'true';\n}\n\nfunction removeCurentBtn(btn) {\n  btn.classList.remove('modal-movie__btn--curent');\n  btn.dataset.ls = 'false';\n}\n\n// Змінює текст кнопки\nfunction textCurentBtnWatched(btn) {\n  if (btn.dataset.ls === 'false') {\n    btn.innerHTML = 'add to Watched';\n  } else {\n    btn.innerHTML = 'remove from Watched';\n  }\n}\n\nfunction textCurentBtnQueue(btn) {\n  if (btn.dataset.ls === 'false') {\n    btn.innerHTML = 'add to Queue';\n  } else {\n    btn.innerHTML = 'remove from Queue';\n  }\n}\n\n// створює розмітку для модалки\nfunction CardFilminHtml(data) {\n  const genresArr = [];\n  data.genres.length\n    ? data.genres.map(genre => {\n        genresArr.push(genre.name);\n      })\n    : '';\n  return `\n  <div class=\"modal-movie__img-container\">\n  <img class=\"modal-movie__img\" loading=\"lazy\" src=\"${\n    data.poster_path\n      ? 'https://image.tmdb.org/t/p/w500' + data.poster_path\n      : 'https://i.postimg.cc/6pzyh7Wc/pngwing-com.png'\n  }\" alt=\"${\n    data.original_title || data.original_name\n  }\" width=\"240\" height=\"357\" />\n  ${\n    data.production_companies.length\n      ? data.production_companies[0].logo_path\n        ? ` <img class=\"modal-movie__img-company\" loading=\"lazy\" src=\"${\n            data.production_companies[0].logo_path\n              ? 'https://image.tmdb.org/t/p/w500' +\n                data.production_companies[0].logo_path\n              : '-'\n          }\" alt=\"${\n            data.production_companies[0].name || 'logo company'\n          }\" width=\"240\" height=\"357\" />`\n        : ''\n      : ' '\n  }\n  \n  </div>\n    \n    <div>\n      <h1 class=\"modal-movie__title\">${\n        data.original_title || data.original_name\n          ? data.original_title || data.original_name\n          : '-'\n      }</h1>\n      <ul class=\"modal-movie__list\">\n        <li class=\"modal-movie__item\">\n          <p class=\"modal-movie__item-categories\">Vote / Votes</p>\n          <p class=\"modal-movie__item-inf\">\n            <span class=\"modal-movie__item-vote\">${data.vote_average}</span> /\n            <span class=\"modal-movie__item-votes\">${data.vote_count}</span>\n          </p>\n        </li>\n        <li class=\"modal-movie__item\">\n          <p class=\"modal-movie__item-categories\">Popularity</p>\n          <p class=\"modal-movie__item-inf\">${data.popularity}</p>\n        </li>\n        <li class=\"modal-movie__item\">\n          <p class=\"modal-movie__item-categories\">Original Title </p>\n          <p class=\"modal-movie__item-inf modal-movie__item-inf--uppercase\">\n            ${data.original_title}\n          </p>\n        </li>\n        <li class=\"modal-movie__item\">\n          <p class=\"modal-movie__item-categories\">Genre</p>\n          <p class=\"modal-movie__item-inf\">${\n            genresArr.length > 0 ? genresArr.join(', ') : '-'\n          }</p>\n        </li>\n      </ul>\n      <h2 class=\"modal-movie__about\">About</h2>\n      <p class=\"modal-movie__about-text\">\n        ${data.overview.length > 0 ? data.overview : 'Absent...'}\n      </p>\n      <div class=\"modal-movie__btn-section\">\n        <button\n            class=\"modal-movie__btn modal-movie__btn--margin modal-movie__btn-watched\"\n            type=\"button\" data-ls='false'\n          >\n            add to Watched\n          </button>\n          <button class=\"modal-movie__btn modal-movie__btn-queue\" type=\"button\" data-ls='false'>add to queue</button>\n      </div>\n    </div>\n      `;\n}\n\n// створює розмітку для модалки у випадку помилки\nfunction CardFilminHtmlIfError(Error) {\n  return `\n    <div class=\"error-message\">\n    <h1>${Error.response.status}</h1>\n    <h2>${Error.name}</h2>\n    <h3>${Error.message}</h3>\n<p>try later</p>\n    </div>\n    \n      `;\n}\n\nfunction movieBtnHtml() {\n  return `\n      <button type=\"button\" class=\"modal-movie__movie\">\n      <svg class=\"icon modal-movie__icon\" width=\"40\" height=\"40\">\n      <use xlink:href=\"${svgYoutube}#icon-youtube\"></use>\n      </svg>\n    </button>  \n      `;\n}\n\nfunction returnMovie(Movie) {\n  return `\n  <div class='movie-iframe'>\n<iframe frameborder=\"0\" allowfullscreen=\"1\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" title=\"${Movie.name}\" width=\"100%\" height=\"100%\" src=\"https://www.youtube.com/embed/${Movie.key}\"></iframe>\n  </div>\n  `;\n}\n\nfunction rebootLib() {\n  const btnWatched = document.querySelector('.button-watched');\n  const btnQueue = document.querySelector('.button-queue');\n\n  if (btnWatched.dataset.active === 'true') {\n    rWatched();\n    // paginationWatchid();\n  }\n  if (btnQueue.dataset.active === 'true') {\n    rQueue();\n    // paginationQueue();\n  }\n}\n","import { async } from '@firebase/util';\nimport { getQueueFb, getWatchedFb } from './firebase';\nimport { paginationWatchid, paginationQueue } from './pagination-lib';\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\n\nconst listWatched = document.querySelector('.movie-list');\nconst libSection = document.querySelector('.movie-popular-lib');\nconst bacgroundLib = document.querySelector('.bacground-lib');\n\nconst btnWatched = document.querySelector('.button-watched');\nconst btnQueue = document.querySelector('.button-queue');\n\nbtnWatched.addEventListener('click', rWatched);\n\nbtnQueue.addEventListener('click', rQueue);\n\nconst localUserId = localStorage.getItem('id-user');\nlet localQueue = [];\nlet localWatched = [];\n\ngetOnlineOrOfflineStorage();\n\nasync function getOnlineOrOfflineStorage() {\n  if (localUserId) {\n    try {\n      Loading.custom('Loading...', {\n        customSvgCode:\n          '<svg width=\"16\" height=\"12\" viewBox=\"0 0 16 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><linearGradient id=\"myG\"  fy=\"0\" gradientTransform=\"rotate(60 .5 .5)\"><stop offset=\"0\" stop-color=\"#f15361\"></stop><stop offset=\".25\" stop-color=\"#ffffff\"><animate attributeName=\"offset\" dur=\"2s\" values=\"0;1;0\"repeatCount=\"indefinite\" /></stop><stop offset=\"1\" stop-color=\"#f15361\"/></linearGradient><path d=\"M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z\" fill=\"url(#myG)\"/></svg>',\n        backgroundColor: 'rgba(0, 0, 0, 0.8)',\n      });\n      localWatched = await getWatchedFb(localUserId);\n      localQueue = await getQueueFb(localUserId);\n      if (localWatched.length === 0) {\n        rQueue();\n      } else {\n        rWatched();\n      }\n      Loading.remove(2000);\n    } catch (error) {\n      Loading.remove(2000);\n      console.log(error);\n    }\n  } else {\n    localWatched = JSON.parse(localStorage.getItem('watched')).watched;\n    localQueue = JSON.parse(localStorage.getItem('watched')).queue;\n    if (localWatched.length === 0) {\n      rQueue();\n    } else {\n      rWatched();\n    }\n  }\n}\n\nexport async function rWatched() {\n  getWatched('watched', 1);\n  paginationWatchid();\n  let localWatched;\n  if (localUserId) {\n    try {\n      localWatched = await getWatchedFb(localUserId);\n\n      if (localWatched.length === 0) {\n        listWatched.innerHTML = '';\n        libSection.classList.add('non-display');\n        bacgroundLib.classList.remove('non-display');\n      } else {\n        libSection.classList.remove('non-display');\n        bacgroundLib.classList.add('non-display');\n      }\n\n      btnWatched.classList.add('button--lib-active');\n      btnQueue.classList.remove('button--lib-active');\n\n      btnWatched.dataset.active = true;\n      btnQueue.dataset.active = false;\n    } catch (error) {\n      console.log(error);\n    }\n  } else {\n    localWatched = JSON.parse(localStorage.getItem('watched')).watched;\n\n    if (localWatched.length === 0) {\n      listWatched.innerHTML = '';\n      libSection.classList.add('non-display');\n      bacgroundLib.classList.remove('non-display');\n    } else {\n      libSection.classList.remove('non-display');\n      bacgroundLib.classList.add('non-display');\n    }\n\n    btnWatched.classList.add('button--lib-active');\n    btnQueue.classList.remove('button--lib-active');\n\n    btnWatched.dataset.active = true;\n    btnQueue.dataset.active = false;\n  }\n}\n\nexport async function rQueue() {\n  getWatched('queue', 1);\n  paginationQueue();\n\n  let localQueue;\n\n  if (localUserId) {\n    try {\n      localQueue = await getQueueFb(localUserId);\n      if (localQueue.length === 0) {\n        listWatched.innerHTML = '';\n        libSection.classList.add('non-display');\n        bacgroundLib.classList.remove('non-display');\n      } else {\n        libSection.classList.remove('non-display');\n        bacgroundLib.classList.add('non-display');\n      }\n\n      btnQueue.classList.add('button--lib-active');\n      btnWatched.classList.remove('button--lib-active');\n\n      btnQueue.dataset.active = true;\n      btnWatched.dataset.active = false;\n    } catch (error) {\n      console.log(error);\n    }\n  } else {\n    localQueue = JSON.parse(localStorage.getItem('watched')).queue;\n    if (localQueue.length === 0) {\n      listWatched.innerHTML = '';\n      libSection.classList.add('non-display');\n      bacgroundLib.classList.remove('non-display');\n    } else {\n      libSection.classList.remove('non-display');\n      bacgroundLib.classList.add('non-display');\n    }\n\n    btnQueue.classList.add('button--lib-active');\n    btnWatched.classList.remove('button--lib-active');\n\n    btnQueue.dataset.active = true;\n    btnWatched.dataset.active = false;\n  }\n}\n\nexport async function getWatched(name, page) {\n  let localWatched;\n  if (localUserId) {\n    try {\n      if (name === 'watched') {\n        localWatched = await getWatchedFb(localUserId);\n      } else {\n        localWatched = await getQueueFb(localUserId);\n      }\n      let begin = 20 * page - 20;\n      const end = 20 * page;\n      if (page === 1) {\n        begin = 0;\n      }\n\n      const slice = localWatched.slice(begin, end).join('');\n      listWatched.innerHTML = slice;\n    } catch (error) {\n      console.log(error);\n    }\n  } else {\n    localWatched = JSON.parse(localStorage.getItem('watched'))[name];\n\n    let begin = 20 * page - 20;\n    const end = 20 * page;\n    if (page === 1) {\n      begin = 0;\n    }\n\n    const slice = localWatched.slice(begin, end).join('');\n    listWatched.innerHTML = slice;\n  }\n\n  // console.log(localWatched);\n}\n","import Pagination from 'tui-pagination';\nimport { getWatched } from './lib';\nimport { refs } from './refs';\n\nconst localUserId = localStorage.getItem('id-user');\n\nexport function paginationWatchid() {\n  const optionsPop = {\n    totalItems: localUserId\n      ? JSON.parse(localStorage.getItem('WatchedFb'))\n      : JSON.parse(localStorage.getItem('watched')).watched.length,\n    itemsPerPage: 20,\n    visiblePages: window.screen.width <= 400 ? 2 : 5,\n    page: 1,\n    centerAlign: true,\n    firstItemClassName: 'tui-first-child',\n    lastItemClassName: 'tui-last-child',\n    template: {\n      page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n      currentPage:\n        '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n      moveButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</a>',\n      disabledMoveButton:\n        '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</span>',\n      moreButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n        '</a>',\n    },\n  };\n\n  const paginationPop = new Pagination('pagination', optionsPop);\n\n  paginationPop.on('afterMove', async function (eventData) {\n    resetGallery();\n\n    getWatched('watched', eventData.page);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  });\n  removeHiddenPagination();\n  if (optionsPop.totalItems <= 20) {\n    addHiddenPagination();\n  }\n}\n\nexport function paginationQueue() {\n  const optionsPop = {\n    totalItems: localUserId\n      ? JSON.parse(localStorage.getItem('QueueFb'))\n      : JSON.parse(localStorage.getItem('watched')).queue.length,\n    itemsPerPage: 20,\n    visiblePages: window.screen.width <= 400 ? 2 : 5,\n    page: 1,\n    centerAlign: true,\n    firstItemClassName: 'tui-first-child',\n    lastItemClassName: 'tui-last-child',\n    template: {\n      page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n      currentPage:\n        '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n      moveButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</a>',\n      disabledMoveButton:\n        '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</span>',\n      moreButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n        '</a>',\n    },\n  };\n\n  const paginationPop = new Pagination('pagination', optionsPop);\n\n  paginationPop.on('afterMove', async function (eventData) {\n    resetGallery();\n\n    getWatched('queue', eventData.page);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  });\n\n  removeHiddenPagination();\n  if (optionsPop.totalItems <= 20) {\n    addHiddenPagination();\n  }\n}\n\n// ховає пагінацію\nexport function addHiddenPagination() {\n  const paginationHtml = document.querySelector('#pagination');\n  paginationHtml.classList.add('visually-hidden');\n}\n\nexport function removeHiddenPagination() {\n  const paginationHtml = document.querySelector('#pagination');\n  paginationHtml.classList.remove('visually-hidden');\n}\n\nfunction resetGallery() {\n  refs.list.innerHTML = '';\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('N9b3R') + require('./helpers/bundle-manifest').resolve(\"kxKJ3\");","import { refs } from './refs';\nimport ModalClassic from './modalClassic';\nimport {\n  createUser,\n  singInAccount,\n  createNewUser,\n  getWatched,\n  getQueue,\n  getUserInfo,\n} from './firebase';\nimport { Notify } from 'notiflix';\nimport { Loading } from 'notiflix';\n\nconst ModalReg = new ModalClassic(\n  '.wrapper-modal-user',\n  '.modal-user__btn-close'\n);\n\n// check auth\nconst checkAuth = localStorage.getItem('email-user');\n\nif (checkAuth) {\n  refs.loginBtn.innerHTML = checkAuth;\n}\n\nrefs.loginBtn?.addEventListener('click', singOutHandler);\n\nconst formRegister = document.querySelector('.modal-register');\nformRegister?.addEventListener('click', registrationHandler);\n\nasync function registrationHandler(evt) {\n  evt.preventDefault();\n  const user = {\n    email: evt.currentTarget['email-reg'].value,\n    password: evt.currentTarget['password-reg'].value,\n  };\n\n  const typeBtn = evt.path[0].name;\n\n  if (typeBtn === 'btn-auth') {\n    try {\n      const dataUser = await singInAccount(user.email, user.password);\n      saveDataAndCloseModal(dataUser.user.uid, user.email);\n      Notify.success(`Welcome back!`);\n      setTimeout(() => {\n        location.reload();\n      }, 1000);\n    } catch (error) {\n      console.log(error);\n    }\n  } else if (typeBtn === 'btn-reg') {\n    try {\n      const dataUser = await createUser(user.email, user.password);\n      saveDataAndCloseModal(dataUser.user.uid, user.email);\n      createNewUser({ id: dataUser.user.uid, email: user.email });\n      Notify.success(`Succes! Your email: ${user.email}`);\n      setTimeout(() => {\n        location.reload();\n      }, 1000);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\n\nconst refSignOutBtn = document.querySelector('.sign-out__button');\nrefSignOutBtn?.addEventListener('click', evt => {\n  localStorage.removeItem('id-user');\n  localStorage.removeItem('email-user');\n  location.reload();\n});\n\nfunction saveDataAndCloseModal(id, email) {\n  localStorage.setItem('id-user', id);\n  localStorage.setItem('email-user', email);\n  refs.loginBtn.innerHTML = email;\n\n  ModalReg.modal.classList.add('is-hidden');\n  document.body.classList.remove('body--hidden');\n}\n\nasync function singOutHandler() {\n  const refAcc = {\n    wrap: document.querySelector('.sign-out__wrap'),\n    register: document.querySelector('.modal-register'),\n    email: document.querySelector('.account-info__email'),\n    watched: document.querySelector('.account-info__count-watched'),\n    queue: document.querySelector('.account-info__count-queue'),\n  };\n\n  const emailLocal = localStorage.getItem('email-user');\n\n  if (emailLocal) {\n    const userId = localStorage.getItem('id-user');\n    try {\n      Loading.custom('Loading...', {\n        customSvgCode:\n          '<svg width=\"16\" height=\"12\" viewBox=\"0 0 16 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><linearGradient id=\"myG\"  fy=\"0\" gradientTransform=\"rotate(60 .5 .5)\"><stop offset=\"0\" stop-color=\"#f15361\"></stop><stop offset=\".25\" stop-color=\"#ffffff\"><animate attributeName=\"offset\" dur=\"2s\" values=\"0;1;0\"repeatCount=\"indefinite\" /></stop><stop offset=\"1\" stop-color=\"#f15361\"/></linearGradient><path d=\"M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z\" fill=\"url(#myG)\"/></svg>',\n        backgroundColor: 'rgba(0, 0, 0, 0.8)',\n      });\n      const dataUser = await getUserInfo(userId);\n      Loading.remove(100);\n      ModalReg.openModal();\n      refAcc.wrap.classList.remove('visually-hidden');\n      refAcc.register.classList.add('visually-hidden');\n\n      refAcc.email.innerHTML = `Your email: <b>${emailLocal}</b>`;\n      refAcc.watched.innerHTML = `You watched: <b>${dataUser.watched.length}</b> films!`;\n      refAcc.queue.innerHTML = `You added to queue: <b>${dataUser.queue.length}</b> films!`;\n    } catch (error) {\n      console.log(error);\n    }\n  } else {\n    ModalReg.openModal();\n  }\n}\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$bpxeT","$4afd6e453112893f$var$localUserId","localStorage","getItem","$4afd6e453112893f$export$1f300efe7f5bc4b6","optionsPop","totalItems","watched","itemsPerPage","visiblePages","window","screen","width","page","centerAlign","firstItemClassName","lastItemClassName","template","currentPage","moveButton","disabledMoveButton","moreButton","$parcel$interopDefault","$1VFfL","on","$2TvXO","mark","_callee","eventData","$4afd6e453112893f$var$resetGallery","$e54e70c24b3c25b2$export$f27434f777dd4ed3","scrollTo","top","behavior","$4afd6e453112893f$export$950035b07f4e6cc8","$4afd6e453112893f$export$f2febb177d6b71e1","$4afd6e453112893f$export$e384d1e38b4b8ac7","queue","document","querySelector","classList","add","remove","$4Nugj","refs","list","innerHTML","$e54e70c24b3c25b2$var$listWatched","$e54e70c24b3c25b2$var$libSection","$e54e70c24b3c25b2$var$bacgroundLib","$e54e70c24b3c25b2$var$btnWatched","$e54e70c24b3c25b2$var$btnQueue","addEventListener","$e54e70c24b3c25b2$export$cc750f1fac74ca4c","$e54e70c24b3c25b2$export$e035904e86fe5c1b","$e54e70c24b3c25b2$var$localUserId","$e54e70c24b3c25b2$var$localWatched","$e54e70c24b3c25b2$var$_getOnlineOrOfflineStorage","$7rQOT","Loading","custom","customSvgCode","backgroundColor","$iNWLi","getWatchedFb","_ctx","sent","getQueueFb","console","log","t0","apply","this","arguments","$e54e70c24b3c25b2$var$_rWatched","dataset","active","$e54e70c24b3c25b2$var$_rQueue","name","$e54e70c24b3c25b2$var$_getWatched","localWatched2","begin","end","slice","begin1","end1","slice1","join","$e54e70c24b3c25b2$var$getOnlineOrOfflineStorage","$a95b7255cecf50d4$exports","getBundleURL","resolve","$92998c8bcb496785$var$ApiP","$c7C73","Api","$92998c8bcb496785$var$Modal","$73G6I","default","$92998c8bcb496785$var$modalMovi","$92998c8bcb496785$var$movieDiv","$92998c8bcb496785$var$localUserId","$92998c8bcb496785$var$localStorageMovi","$92998c8bcb496785$var$_getOnlineOrOfflineStorage","setItem","stringify","$92998c8bcb496785$var$_onMoviClick","e","idMovie","Seach","Movies","preventDefault","target","nodeName","openModal","fetchCardFilm","$92998c8bcb496785$var$CardFilminHtml","$92998c8bcb496785$var$onBtnInModalMovi","fetchMovies","results","insertAdjacentHTML","$92998c8bcb496785$var$movieBtnHtml","$92998c8bcb496785$var$openModalMovi","t1","$92998c8bcb496785$var$CardFilminHtmlIfError","e1","Movie","options","instance","onLightboxKeydown","code","close","className","onShow","onClose","removeEventListener","$dyT35","create","$92998c8bcb496785$var$returnMovie","show","$92998c8bcb496785$var$_onBtnInModalMovi","modalMoviInfoBtnWatched","modalMoviInfoBtnQueue","localStorageWatched","localStorageQueue","outerHTML","$92998c8bcb496785$var$changeWatched","$92998c8bcb496785$var$changeQueue","$92998c8bcb496785$var$addCurentInBtn","$92998c8bcb496785$var$textCurentBtnWatched","$92998c8bcb496785$var$textCurentBtnQueue","targetEl","ingexEl","ingexElrem","ls","addToWatchedFb","$92998c8bcb496785$var$addCurentBtn","$92998c8bcb496785$var$rebootLib","push","removeFromWatchedFb","$92998c8bcb496785$var$removeCurentBtn","indexOf","splice","includes","removeFromQueueFb","t2","addToQueueFb","arr","element","btn","data","genresArr","genres","map","genre","concat","poster_path","original_title","original_name","production_companies","logo_path","vote_average","vote_count","popularity","overview","response","status","message","key","btnWatched","btnQueue","$92998c8bcb496785$var$getOnlineOrOfflineStorage","$127df10dca2b94bb$var$ref","$127df10dca2b94bb$var$ModalReg","$127df10dca2b94bb$var$checkAuth","loginBtn","$127df10dca2b94bb$var$_singOutHandler","$127df10dca2b94bb$var$formRegister","$127df10dca2b94bb$var$_registrationHandler","evt","user","typeBtn","dataUser1","email","currentTarget","password","path","singInAccount","$127df10dca2b94bb$var$saveDataAndCloseModal","uid","$iU1Pc","Notify","success","setTimeout","location","reload","createUser","createNewUser","$127df10dca2b94bb$var$refSignOutBtn","modal","body","refAcc","emailLocal","userId","dataUser","wrap","getUserInfo","removeItem"],"version":3,"file":"lib.e95ef4fb.js.map"}