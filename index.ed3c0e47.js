function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},a={},s=t.parcelRequired7c6;null==s&&((s=function(e){if(e in o)return o[e].exports;if(e in a){var t=a[e];delete a[e];var s={id:e,exports:{}};return o[e]=s,t.call(s.exports,s,s.exports),s.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){a[e]=t},t.parcelRequired7c6=s),s("kyEFX").register(JSON.parse('{"5ZPII":"index.ed3c0e47.js","9v6fF":"symbol-defs.77c8385e.svg","5UbS1":"index.5f402c17.css","bp6zS":"index.1ae8b825.js"}'));var n=s("eWCmQ"),r=s("krGWQ");s("58den");r=s("krGWQ"),r=s("krGWQ");var i,l=s("58den");function c({poster_path:e,original_title:t,genre_ids:o,release_date:a,first_air_date:s,original_name:n,id:r,vote_average:c}){let d=(m=o,i.genres.reduce(((e,{id:t,name:o})=>(m.includes(t)&&e.push(o),e)),[]));var m;return`<li class="movie-popular__item" data-id="${r}">\n        <a href="" class="movie-popular__reference" target="_blank">\n        <img loading="lazy" src="${e?l.IMG_URL+e:"https://i.postimg.cc/6pzyh7Wc/pngwing-com.png"}"\n        class="movie-popular__img"\n          alt="${t||n}">\n        <h2 class="movie-popular__title">${t||n?t||n:""}</h2>\n        <p class="movie-popular__genre">${0===d.length?"Genres did not come":d.length<=2?d.join(", "):d.slice(0,2).join(", ")+", Other"} | ${Number.parseInt(a)||Number.parseInt(s)?Number.parseInt(a)||Number.parseInt(s):"Year not found"}</p>\n      <p class="movie-popular__rating">${c?c.toFixed(1):"0"}</p>\n      </a>\n        </li>`}function d(e){return e.reduce(((e,t)=>e+c(t)),"")}i=JSON.parse('{"genres":[{"id":28,"name":"Action"},{"id":12,"name":"Adventure"},{"id":16,"name":"Animation"},{"id":35,"name":"Comedy"},{"id":80,"name":"Crime"},{"id":99,"name":"Documentary"},{"id":18,"name":"Drama"},{"id":10751,"name":"Family"},{"id":14,"name":"Fantasy"},{"id":36,"name":"History"},{"id":27,"name":"Horror"},{"id":10402,"name":"Music"},{"id":9648,"name":"Mystery"},{"id":10749,"name":"Romance"},{"id":878,"name":"Science Fiction"},{"id":10770,"name":"TV Movie"},{"id":53,"name":"Thriller"},{"id":10752,"name":"War"},{"id":37,"name":"Western"}]}'),s("58den"),s("krGWQ");let m=!1;function g(e){const t=d(e);r.refs.list.insertAdjacentHTML("beforeend",t),m&&$(".slider").slick("unslick"),r.refs.slickSlider.innerHTML=t,$(".slider").slick({arrows:!1,centerMode:!0,lazyLoad:"progressive",autoplay:!0,autoplaySpeed:1e3,slidesToShow:8,infinite:!0,speed:1e3,adaptiveHeigt:!0,cssEase:"ease"}),m=!0}n=s("eWCmQ");async function f(e){await fetch(e).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>{n.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>',backgroundColor:"rgba(0, 0, 0, 0.8)"}),localStorage.setItem("totalItems",e.total_results),localStorage.setItem("itemsPerPage",e.results.length),0!==e.results.length?g(e.results):(n.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>',backgroundColor:"rgba(0, 0, 0, 0.8)"}),r.refs.list.innerHTML='<h1 class="list__nofind">No movies found on request :(</h1>')})).catch((e=>{console.log("error",e)})).finally((()=>{n.Loading.remove(2e3)}))}//! Фетч популярних фільмів, по дефолту при відкритті або перезагрузці сайту
l=s("58den"),r=s("krGWQ"),n=s("eWCmQ"),l=s("58den");var u=s("2shzp");r=s("krGWQ"),n=s("eWCmQ");s("fb9GJ");var p=s("fb9GJ");r=s("krGWQ"),l=s("58den");function v(t,o,a){const s={totalItems:JSON.parse(localStorage.getItem("totalItems")),itemsPerPage:20,visiblePages:window.screen.width<=400?2:5,page:1,centerAlign:!0,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}};new(e(p))("pagination",s).on("afterMove",(async function(e){_(),S(t,o,e.page,a).then((e=>{console.log(e),L(e.results)})).catch((e=>console.log(e))),window.scrollTo({top:0,behavior:"smooth"})})),w(),JSON.parse(localStorage.getItem("totalItems"))<=20&&y()}function h(t){const o={totalItems:JSON.parse(localStorage.getItem("totalItems")),itemsPerPage:20,visiblePages:window.screen.width<=400?2:5,page:1,centerAlign:!0,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}},a=new(e(p))("pagination",o);a._options.totalItems=JSON.parse(localStorage.getItem("totalItems")),a._options.itemsPerPage=JSON.parse(localStorage.getItem("itemsPerPage")),a.on("afterMove",(async function(e){_(),Z(t,e.page),localStorage.setItem("searchPagination",e.page),window.scrollTo({top:0,behavior:"smooth"})})),w(),JSON.parse(localStorage.getItem("totalItems"))<=20&&y()}const H={totalItems:2e4,itemsPerPage:20,visiblePages:window.screen.width<=400?2:5,page:1,centerAlign:!0,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}};console.log(H.visiblePages);const V=new(e(p))("pagination",H);function y(){document.querySelector("#pagination").classList.add("visually-hidden")}function w(){document.querySelector("#pagination").classList.remove("visually-hidden")}function _(){r.refs.list.innerHTML=""}V.on("afterMove",(async function(e){_(),f(`${l.API_URL}&page=${e.page}`),localStorage.setItem("pagination",e.page),window.scrollTo({top:0,behavior:"smooth"})})),V.movePageTo(localStorage.getItem("pagination")),r.refs.logo.addEventListener("click",(function(){localStorage.removeItem("search"),localStorage.removeItem("searchWord"),localStorage.removeItem("pagination")})),r.refs.home.addEventListener("click",(function(){localStorage.removeItem("search"),localStorage.removeItem("searchWord"),localStorage.removeItem("pagination")}));const b={filterForm:document.querySelector("#filter-form"),genreForm:document.querySelector("#genreForm"),yearForm:document.querySelector("#yearForm"),sortForm:document.querySelector("#sortForm"),resetButton:document.querySelector("#button__reset")};let M={year:"",genre:"",query:"",discover:"discover",page:"",sort:""};async function S(e="",t="",o="",a=""){M.year="start"!==b.yearForm.value||""!==t?`&primary_release_year=${b.yearForm.value}`:"",M.genre=""!==e&&"start"!==b.genreForm.value?`&with_genres=${b.genreForm.value}`:"",M.sort=""!==a&&"start"!==b.sortForm.value?`&sort_by=${b.sortForm.value}`:"&sort_by=vote_count.desc",""===e&&(M.discover="search"),""!==e&&(M.discover="discover"),""!==t&&(M.discover="discover"),""!==t&&(M.discover="discover"),""!==a&&(M.discover="discover");const s=await u.default.get(`${l.BASE_URL}${M.discover}/movie?${M.sort}${M.genre}${M.year}&include_adult=false&api_key=${l.KEY}&page=${o}`);return localStorage.setItem("totalItems",s.data.total_results),localStorage.setItem("itemsPerPage",s.data.results.length),s.data}function L(e){const t=d(e);r.refs.list.innerHTML=t}async function Z(e,t){await fetch(`${l.BASE_FIND_WORD_URL}&page=${t}&query=${e}`).then((e=>{if(!e.ok)throw new Error(e.status),n.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>',backgroundColor:"rgba(0, 0, 0, 0.8)"});return e.json()})).then((e=>{n.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>',backgroundColor:"rgba(0, 0, 0, 0.8)"}),console.log(e),localStorage.setItem("totalItems",e.total_results),localStorage.setItem("itemsPerPage",e.results.length),0!==e.results.length?(b.filterForm.classList.add("is-hidden"),g(e.results),r.refs.paginationDiv.classList.remove("visually-hidden")):(n.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>',backgroundColor:"rgba(0, 0, 0, 0.8)"}),r.refs.paginationDiv.classList.add("visually-hidden"),n.Notify.failure("Nothing was found for your request"),r.refs.list.innerHTML=' <img src="https://cdn.dribbble.com/users/4266416/screenshots/8269080/media/69de53b0834d3b0c493f21d4ce773dfd.png"\n          alt="no movies found" class="no__found">')})).catch((e=>{console.log("error",e)})).finally((()=>{n.Loading.remove(2e3)}))}b.genreForm.addEventListener("input",(async function(e){e.preventDefault(),e&&(M.genre=e.target.value,M.page=1,await S(M.genre,M.year,M.page,M.sort).then((e=>{n.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>',backgroundColor:"rgba(0, 0, 0, 0.8)"}),0!==e.results.length?L(e.results):(n.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>',backgroundColor:"rgba(0, 0, 0, 0.8)"}),n.Notify.failure("Nothing was found for your request"),r.refs.list.innerHTML=' <img src="https://cdn.dribbble.com/users/4266416/screenshots/8269080/media/69de53b0834d3b0c493f21d4ce773dfd.png"\n          alt="no movies found" class="no__found">')})).catch((e=>console.log(e))).finally((()=>n.Loading.remove(2e3))),v(M.genre,M.year,M.sort),n.Notify.success(`We found ${JSON.parse(localStorage.getItem("totalItems"))} movies.`))})),b.yearForm.addEventListener("input",(async function(e){e.preventDefault(),e&&(M.year=Number(e.target.value),M.page=1,await S(M.genre,M.year,M.page,M.sort).then((e=>{n.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>',backgroundColor:"rgba(0, 0, 0, 0.8)"}),0!==e.results.length?L(e.results):(n.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>',backgroundColor:"rgba(0, 0, 0, 0.8)"}),n.Notify.failure("Nothing was found for your request"),r.refs.list.innerHTML=' <img src="https://cdn.dribbble.com/users/4266416/screenshots/8269080/media/69de53b0834d3b0c493f21d4ce773dfd.png"\n          alt="no movies found" class="no__found">')})).catch((e=>console.log(e))).finally((()=>n.Loading.remove(2e3))),console.log(localStorage.getItem("totalItems")),v(M.genre,M.year,M.sort),n.Notify.success(`We found ${JSON.parse(localStorage.getItem("totalItems"))} movies.`))})),b.sortForm.addEventListener("input",(async function(e){e.preventDefault(),M.sort=e.target.value,M.page=1,await S(M.genre,M.year,M.page,M.sort).then((e=>{n.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>',backgroundColor:"rgba(0, 0, 0, 0.8)"}),0!==e.results.length?L(e.results):(n.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>',backgroundColor:"rgba(0, 0, 0, 0.8)"}),n.Notify.failure("Nothing was found for your request"),r.refs.list.innerHTML=' <img src="https://cdn.dribbble.com/users/4266416/screenshots/8269080/media/69de53b0834d3b0c493f21d4ce773dfd.png"\n          alt="no movies found" class="no__found">')})).catch((e=>console.log(e))).finally((()=>n.Loading.remove(2e3))),v(M.genre,M.year,M.sort),n.Notify.success(`We found ${JSON.parse(localStorage.getItem("totalItems"))} movies.`)})),b.resetButton.addEventListener("click",(function(e){e.preventDefault(),b.genreForm.options.selectedIndex=0,b.yearForm.options.selectedIndex=0,b.sortForm.options.selectedIndex=0,M.genre="",M.year="",M.page=1,M.sort="",V.movePageTo(localStorage.getItem("pagination"))})),function(){let e=[];for(let t=(new Date).getFullYear();t>=1950;t-=1)e.push(`<option class = 'filter__form-years' value="${t}">${t}</option>`);const t=e.join("");b.yearForm.insertAdjacentHTML("beforeend",t)}(),s("58den");let I="";JSON.parse(localStorage.getItem("searchWord"))?(I=JSON.parse(localStorage.getItem("searchWord")),r.refs.input.value=I):localStorage.setItem("searchWord",JSON.stringify(I)),console.dir(r.refs.input),r.refs.input.addEventListener("input",(function(e){console.log(e.currentTarget.value),localStorage.setItem("searchWord",JSON.stringify(e.currentTarget.value)),""===e.currentTarget.value&&(r.refs.list.innerHTML="",b.filterForm.classList.remove("is-hidden"),V.movePageTo(localStorage.getItem("pagination")))}));let N="";JSON.parse(localStorage.getItem("search"))?(N=JSON.parse(localStorage.getItem("search")),r.refs.input.value=N):localStorage.setItem("search",JSON.stringify(N));let G=!1;r.refs.form.addEventListener("submit",(async function(e){e.preventDefault();const t=e.currentTarget.elements.search.value.trim().toLowerCase();localStorage.setItem("search",JSON.stringify(t)),localStorage.setItem("searchPagination",1),localStorage.setItem("searchWord",0),N=JSON.parse(localStorage.getItem("search")),t?(r.refs.list.innerHTML="",await Z(t),console.log(JSON.parse(localStorage.getItem("itemsPerPage"))),console.log(JSON.parse(localStorage.getItem("totalItems"))),G=!0,h(t),n.Notify.success(`We found ${JSON.parse(localStorage.getItem("totalItems"))} movies.`)):n.Notify.info("Sorry, there are no movies matching your search query. Please try again.")})),s("krGWQ"),s("58den"),s("2YGUk"),s("iyKJU"),s("kyRuT");var F,T=s("dSs1Y"),C=s("9B8F0");F=new URL(s("kyEFX").resolve("9v6fF"),import.meta.url).toString();var O=s("2ix2C"),x=(l=s("58den"),s("5XRb5"));s("ffjl9");const k=new(0,l.Api),q=new(0,x.default)(".modal-movie__backdrop",".modal-movie__btn-close"),J=document.querySelector(".modal-movie__container"),W=document.querySelector(".movie-list"),P=document.querySelector(".movie-list-slider"),E=localStorage.getItem("id-user");let B={watched:[],queue:[]};async function Q(t){if(t.preventDefault(),"LI"!==t.target.nodeName)return;T.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>'}),J.innerHTML=" ",q.openModal();const o=t.target.dataset.id;try{const s=await k.fetchCardFilm(o);J.innerHTML=function(e){const t=[];return e.genres.length&&e.genres.map((e=>{t.push(e.name)})),`\n  <div class="modal-movie__img-container">\n  <img class="modal-movie__img" loading="lazy" src="${e.poster_path?"https://image.tmdb.org/t/p/w500"+e.poster_path:"https://i.postimg.cc/6pzyh7Wc/pngwing-com.png"}" alt="${e.original_title||e.original_name}" width="240" height="357" />\n  ${e.production_companies.length?e.production_companies[0].logo_path?` <img class="modal-movie__img-company" loading="lazy" src="${e.production_companies[0].logo_path?"https://image.tmdb.org/t/p/w500"+e.production_companies[0].logo_path:"-"}" alt="${e.production_companies[0].name||"logo company"}" width="240" height="357" />`:"":" "}\n  \n  </div>\n    \n    <div>\n      <h1 class="modal-movie__title">${e.original_title||e.original_name?e.original_title||e.original_name:"-"}</h1>\n      <ul class="modal-movie__list">\n        <li class="modal-movie__item">\n          <p class="modal-movie__item-categories">Vote / Votes</p>\n          <p class="modal-movie__item-inf">\n            <span class="modal-movie__item-vote">${e.vote_average}</span> /\n            <span class="modal-movie__item-votes">${e.vote_count}</span>\n          </p>\n        </li>\n        <li class="modal-movie__item">\n          <p class="modal-movie__item-categories">Popularity</p>\n          <p class="modal-movie__item-inf">${e.popularity}</p>\n        </li>\n        <li class="modal-movie__item">\n          <p class="modal-movie__item-categories">Original Title </p>\n          <p class="modal-movie__item-inf modal-movie__item-inf--uppercase">\n            ${e.original_title}\n          </p>\n        </li>\n        <li class="modal-movie__item">\n          <p class="modal-movie__item-categories">Genre</p>\n          <p class="modal-movie__item-inf">${t.length>0?t.join(", "):"-"}</p>\n        </li>\n      </ul>\n      <h2 class="modal-movie__about">About</h2>\n      <p class="modal-movie__about-text">\n        ${e.overview.length>0?e.overview:"Absent..."}\n      </p>\n      <div class="modal-movie__btn-section">\n        <button\n            class="modal-movie__btn modal-movie__btn--margin modal-movie__btn-watched"\n            type="button" data-ls='false'\n          >\n            add to Watched\n          </button>\n          <button class="modal-movie__btn modal-movie__btn-queue" type="button" data-ls='false'>add to queue</button>\n      </div>\n    </div>\n      `}(s),async function(e){const t=A(e.target),o=document.querySelector(".modal-movie__btn-watched"),a=document.querySelector(".modal-movie__btn-queue");o.addEventListener("click",function(e,t){return async function(){const o=document.querySelector(".modal-movie__btn-queue");if("false"===t.dataset.ls)if(E)try{await(0,O.addToWatchedFb)(E,A(e.target)),D(t)}catch(e){console.log(e)}else B.watched.push(A(e.target)),localStorage.setItem("watched",JSON.stringify(B)),D(t);else if(E)try{await(0,O.removeFromWatchedFb)(E,A(e.target)),j(t)}catch(e){console.log(e)}else{const o=B.watched.indexOf(A(e.target));B.watched.splice(o,1),localStorage.setItem("watched",JSON.stringify(B)),j(t)}if(E)try{(await(0,O.getQueueFb)(E)).includes(A(e.target))&&(await(0,O.removeFromQueueFb)(E,A(e.target)),j(o))}catch(e){console.log(e)}else if(JSON.parse(localStorage.getItem("watched")).queue.includes(A(e.target))){const t=B.queue.indexOf(A(e.target));B.queue.splice(t,1),localStorage.setItem("watched",JSON.stringify(B)),j(o)}U(t),o.innerHTML="add to Queue"}}(e,o)),a.addEventListener("click",function(e,t){return async function(){try{const o=document.querySelector(".modal-movie__btn-watched");if("false"===t.dataset.ls)if(E)try{await(0,O.addToQueueFb)(E,A(e.target)),D(t)}catch(e){console.log(e)}else B.queue.push(A(e.target)),localStorage.setItem("watched",JSON.stringify(B)),D(t);else if(E)try{await(0,O.removeFromQueueFb)(E,A(e.target)),j(t)}catch(e){console.log(e)}else{const o=B.queue.indexOf(A(e.target));B.queue.splice(o,1),localStorage.setItem("watched",JSON.stringify(B)),j(t)}if(E)try{(await(0,O.getWatchedFb)(E)).includes(A(e.target))&&(await(0,O.removeFromWatchedFb)(E,A(e.target)),j(o))}catch(e){console.log(e)}else if(JSON.parse(localStorage.getItem("watched")).watched.includes(A(e.target))){const t=B.watched.indexOf(A(e.target));B.watched.splice(t,1),localStorage.setItem("watched",JSON.stringify(B)),j(o)}z(t),o.innerHTML="add to Watched"}catch{}}}(e,a));let s=[],n=[];try{E?(s=await(0,O.getWatchedFb)(E),n=await(0,O.getQueueFb)(E)):(s=JSON.parse(localStorage.getItem("watched")).watched,n=JSON.parse(localStorage.getItem("watched")).queue),R(s,t,o),R(n,t,a),U(o),z(a)}catch(e){console.log(e),s=JSON.parse(localStorage.getItem("watched")).watched,n=JSON.parse(localStorage.getItem("watched")).queue,R(s,t,o),R(n,t,a),U(o),z(a)}}(t),T.Loading.remove(0);try{const t=await k.fetchMovies(o);if(t.results[0]){document.querySelector(".modal-movie__img-container").insertAdjacentHTML("beforeend",`\n      <button type="button" class="modal-movie__movie">\n      <svg class="icon modal-movie__icon" width="40" height="40">\n      <use xlink:href="${e(F)}#icon-youtube"></use>\n      </svg>\n    </button> \n    \n      `);document.querySelector(".modal-movie__movie").addEventListener("click",(a=t.results[0],async function(){const e={className:"basicLightbox__placeholder--transparent",onShow:()=>{window.addEventListener("keydown",o)},onClose:()=>{window.removeEventListener("keydown",o),document.querySelector(".basicLightbox__placeholder").classList.remove("basicLightbox__placeholder--transparent")}},t=C.create(function(e){return`\n  <div class='movie-iframe'>\n<iframe frameborder="0" allowfullscreen="1" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" title="${e.name}" width="100%" height="100%" src="https://www.youtube.com/embed/${e.key}"></iframe>\n  </div>\n  `}(a),e);function o(e){"Escape"===e.code&&t.close()}t.show()}))}}catch(e){console.log(e),console.log("no movie")}}catch(e){T.Loading.remove(0),console.log(e),J.innerHTML=function(e){return`\n    <div class="error-message">\n    <h1>${e.response.status}</h1>\n    <h2>${e.name}</h2>\n    <h3>${e.message}</h3>\n<p>try later</p>\n    </div>\n    \n      `}(e)}var a}function A(e){return`<li class="movie-popular__item" data-id="${e.dataset.id}">\n    <a href="" class="movie-popular__reference" target="_blank">\n  ${e.firstElementChild.innerHTML}\n    </a>\n  </li>`}function R(e,t,o){e.includes(t)?D(o):j(o)}function D(e){e.classList.add("modal-movie__btn--curent"),e.dataset.ls="true"}function j(e){e.classList.remove("modal-movie__btn--curent"),e.dataset.ls="false"}function U(e){"false"===e.dataset.ls?e.innerHTML="add to Watched":e.innerHTML="remove from Watched"}function z(e){"false"===e.dataset.ls?e.innerHTML="add to Queue":e.innerHTML="remove from Queue"}!async function(){if(E)try{B.watched=await(0,O.getWatchedFb)(E),B.queue=await(0,O.getQueueFb)(E)}catch(e){console.log(e)}else localStorage.getItem("watched")?B=JSON.parse(localStorage.getItem("watched")):localStorage.setItem("watched",JSON.stringify(B))}(),W.addEventListener("click",Q),P.addEventListener("click",Q),s("hR8LQ"),s("hR8LQ");
//# sourceMappingURL=index.ed3c0e47.js.map
