!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},a={},n=t.parcelRequired7c6;null==n&&((n=function(e){if(e in o)return o[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},t.parcelRequired7c6=n),n("iE7OH").register(JSON.parse('{"EVgbq":"index.2a8dfd55.js","kxKJ3":"symbol-defs.77c8385e.svg","5UbS1":"index.5f402c17.css","k8Gra":"index.9cd2ba6e.js"}'));var r=n("bpxeT"),s=n("2TvXO"),i=n("iU1Pc"),c=n("4Nugj");r=n("bpxeT"),s=n("2TvXO");n("c7C73");c=n("4Nugj"),c=n("4Nugj");var l,u=n("c7C73");function d(e){var t,o=e.poster_path,a=e.original_title,n=e.genre_ids,r=e.release_date,s=e.first_air_date,i=e.original_name,c=e.id,d=e.vote_average,f=(t=n,l.genres.reduce((function(e,o){var a=o.id,n=o.name;return t.includes(a)&&e.push(n),e}),[]));return'<li class="movie-popular__item" data-id="'.concat(c,'">\n        <a href="" class="movie-popular__reference" target="_blank">\n        <img loading="lazy" src="').concat(o?u.IMG_URL+o:"https://i.postimg.cc/6pzyh7Wc/pngwing-com.png",'"\n        class="movie-popular__img"\n          alt="').concat(a||i,'">\n        <h2 class="movie-popular__title">').concat(a||i?a||i:"",'</h2>\n        <p class="movie-popular__genre">').concat(0===f.length?"Genres did not come":f.length<=2?f.join(", "):f.slice(0,2).join(", ")+", Other"," | ").concat(Number.parseInt(r)||Number.parseInt(s)?Number.parseInt(r)||Number.parseInt(s):"Year not found",'</p>\n      <p class="movie-popular__rating">').concat(d?d.toFixed(1):"0","</p>\n      </a>\n        </li>")}function f(e){return e.reduce((function(e,t){return e+d(t)}),"")}l=JSON.parse('{"genres":[{"id":28,"name":"Action"},{"id":12,"name":"Adventure"},{"id":16,"name":"Animation"},{"id":35,"name":"Comedy"},{"id":80,"name":"Crime"},{"id":99,"name":"Documentary"},{"id":18,"name":"Drama"},{"id":10751,"name":"Family"},{"id":14,"name":"Fantasy"},{"id":36,"name":"History"},{"id":27,"name":"Horror"},{"id":10402,"name":"Music"},{"id":9648,"name":"Mystery"},{"id":10749,"name":"Romance"},{"id":878,"name":"Science Fiction"},{"id":10770,"name":"TV Movie"},{"id":53,"name":"Thriller"},{"id":10752,"name":"War"},{"id":37,"name":"Western"}]}'),n("c7C73"),n("4Nugj");var p=!1;function m(e){var t=f(e);c.refs.list.insertAdjacentHTML("beforeend",t),p&&$(".slider").slick("unslick"),c.refs.slickSlider.innerHTML=t,$(".slider").slick({arrows:!1,centerMode:!0,lazyLoad:"progressive",autoplay:!0,autoplaySpeed:1e3,slidesToShow:8,infinite:!0,speed:1e3,adaptiveHeigt:!0,cssEase:"ease"}),p=!0}i=n("iU1Pc");function g(e){return v.apply(this,arguments)}function v(){return(v=e(r)(e(s).mark((function t(o){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(o).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){i.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>',backgroundColor:"rgba(0, 0, 0, 0.8)"}),localStorage.setItem("totalItems",e.total_results),localStorage.setItem("itemsPerPage",e.results.length),0!==e.results.length?m(e.results):(i.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>',backgroundColor:"rgba(0, 0, 0, 0.8)"}),c.refs.list.innerHTML='<h1 class="list__nofind">No movies found on request :(</h1>')})).catch((function(e){console.log("error",e)})).finally((function(){i.Loading.remove(2e3)}));case 2:case"end":return e.stop()}}),t)}//! Фетч популярних фільмів, по дефолту при відкритті або перезагрузці сайту
)))).apply(this,arguments)}r=n("bpxeT"),s=n("2TvXO"),u=n("c7C73"),c=n("4Nugj"),i=n("iU1Pc"),r=n("bpxeT"),s=n("2TvXO"),u=n("c7C73");var h=n("dIxxU");c=n("4Nugj"),i=n("iU1Pc");n("1VFfL");r=n("bpxeT"),s=n("2TvXO");var H=n("1VFfL");c=n("4Nugj"),u=n("c7C73");function V(t,o,a){var n,i={totalItems:JSON.parse(localStorage.getItem("totalItems")),itemsPerPage:20,visiblePages:window.screen.width<=400?2:5,page:1,centerAlign:!0,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}};new(e(H))("pagination",i).on("afterMove",(n=e(r)(e(s).mark((function n(r){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(),I(t,o,r.page,a).then((function(e){console.log(e),O(e.results)})).catch((function(e){return console.log(e)})),window.scrollTo({top:0,behavior:"smooth"});case 3:case"end":return e.stop()}}),n)}))),function(e){return n.apply(this,arguments)})),S(),JSON.parse(localStorage.getItem("totalItems"))<=20&&M()}function b(t){var o,a={totalItems:JSON.parse(localStorage.getItem("totalItems")),itemsPerPage:20,visiblePages:window.screen.width<=400?2:5,page:1,centerAlign:!0,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}},n=new(e(H))("pagination",a);n._options.totalItems=JSON.parse(localStorage.getItem("totalItems")),n._options.itemsPerPage=JSON.parse(localStorage.getItem("itemsPerPage")),n.on("afterMove",(o=e(r)(e(s).mark((function o(a){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(),F(t,a.page),localStorage.setItem("searchPagination",a.page),window.scrollTo({top:0,behavior:"smooth"});case 4:case"end":return e.stop()}}),o)}))),function(e){return o.apply(this,arguments)})),S(),JSON.parse(localStorage.getItem("totalItems"))<=20&&M()}var y={totalItems:2e4,itemsPerPage:20,visiblePages:window.screen.width<=400?2:5,page:1,centerAlign:!0,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}};console.log(y.visiblePages);var w,_=new(e(H))("pagination",y);function M(){document.querySelector("#pagination").classList.add("visually-hidden")}function S(){document.querySelector("#pagination").classList.remove("visually-hidden")}function x(){c.refs.list.innerHTML=""}_.on("afterMove",(w=e(r)(e(s).mark((function t(o){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(),g("".concat(u.API_URL,"&page=").concat(o.page)),localStorage.setItem("pagination",o.page),window.scrollTo({top:0,behavior:"smooth"});case 4:case"end":return e.stop()}}),t)}))),function(e){return w.apply(this,arguments)})),_.movePageTo(localStorage.getItem("pagination")),c.refs.logo.addEventListener("click",(function(){localStorage.removeItem("search"),localStorage.removeItem("searchWord"),localStorage.removeItem("pagination")})),c.refs.home.addEventListener("click",(function(){localStorage.removeItem("search"),localStorage.removeItem("searchWord"),localStorage.removeItem("pagination")}));var L={filterForm:document.querySelector("#filter-form"),genreForm:document.querySelector("#genreForm"),yearForm:document.querySelector("#yearForm"),sortForm:document.querySelector("#sortForm"),resetButton:document.querySelector("#button__reset")},Z={year:"",genre:"",query:"",discover:"discover",page:"",sort:""};function I(){return k.apply(this,arguments)}function k(){return k=e(r)(e(s).mark((function t(){var o,a,n,r,i,c=arguments;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>0&&void 0!==c[0]?c[0]:"",a=c.length>1&&void 0!==c[1]?c[1]:"",n=c.length>2&&void 0!==c[2]?c[2]:"",r=c.length>3&&void 0!==c[3]?c[3]:"",Z.year="start"!==L.yearForm.value||""!==a?"&primary_release_year=".concat(L.yearForm.value):"",Z.genre=""!==o&&"start"!==L.genreForm.value?"&with_genres=".concat(L.genreForm.value):"",Z.sort=""!==r&&"start"!==L.sortForm.value?"&sort_by=".concat(L.sortForm.value):"&sort_by=vote_count.desc",""===o&&(Z.discover="search"),""!==o&&(Z.discover="discover"),""!==a&&(Z.discover="discover"),""!==a&&(Z.discover="discover"),""!==r&&(Z.discover="discover"),e.next=11,h.default.get("".concat(u.BASE_URL).concat(Z.discover,"/movie?").concat(Z.sort).concat(Z.genre).concat(Z.year,"&include_adult=false&api_key=").concat(u.KEY,"&page=").concat(n));case 11:return i=e.sent,localStorage.setItem("totalItems",i.data.total_results),localStorage.setItem("itemsPerPage",i.data.results.length),e.abrupt("return",i.data);case 15:case"end":return e.stop()}}),t)}))),k.apply(this,arguments)}function N(){return(N=e(r)(e(s).mark((function t(o){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.preventDefault(),!o){e.next=8;break}return Z.genre=o.target.value,Z.page=1,e.next=6,I(Z.genre,Z.year,Z.page,Z.sort).then((function(e){i.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>',backgroundColor:"rgba(0, 0, 0, 0.8)"}),0!==e.results.length?O(e.results):(i.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>',backgroundColor:"rgba(0, 0, 0, 0.8)"}),i.Notify.failure("Nothing was found for your request"),c.refs.list.innerHTML=' <img src="https://cdn.dribbble.com/users/4266416/screenshots/8269080/media/69de53b0834d3b0c493f21d4ce773dfd.png"\n          alt="no movies found" class="no__found">')})).catch((function(e){return console.log(e)})).finally((function(){return i.Loading.remove(2e3)}));case 6:V(Z.genre,Z.year,Z.sort),i.Notify.success("We found ".concat(JSON.parse(localStorage.getItem("totalItems"))," movies."));case 8:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function T(){return(T=e(r)(e(s).mark((function t(o){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.preventDefault(),!o){e.next=9;break}return Z.year=Number(o.target.value),Z.page=1,e.next=6,I(Z.genre,Z.year,Z.page,Z.sort).then((function(e){i.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>',backgroundColor:"rgba(0, 0, 0, 0.8)"}),0!==e.results.length?O(e.results):(i.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>',backgroundColor:"rgba(0, 0, 0, 0.8)"}),i.Notify.failure("Nothing was found for your request"),c.refs.list.innerHTML=' <img src="https://cdn.dribbble.com/users/4266416/screenshots/8269080/media/69de53b0834d3b0c493f21d4ce773dfd.png"\n          alt="no movies found" class="no__found">')})).catch((function(e){return console.log(e)})).finally((function(){return i.Loading.remove(2e3)}));case 6:console.log(localStorage.getItem("totalItems")),V(Z.genre,Z.year,Z.sort),i.Notify.success("We found ".concat(JSON.parse(localStorage.getItem("totalItems"))," movies."));case 9:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function C(){return(C=e(r)(e(s).mark((function t(o){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.preventDefault(),Z.sort=o.target.value,Z.page=1,e.next=5,I(Z.genre,Z.year,Z.page,Z.sort).then((function(e){i.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>',backgroundColor:"rgba(0, 0, 0, 0.8)"}),0!==e.results.length?O(e.results):(i.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>',backgroundColor:"rgba(0, 0, 0, 0.8)"}),i.Notify.failure("Nothing was found for your request"),c.refs.list.innerHTML=' <img src="https://cdn.dribbble.com/users/4266416/screenshots/8269080/media/69de53b0834d3b0c493f21d4ce773dfd.png"\n          alt="no movies found" class="no__found">')})).catch((function(e){return console.log(e)})).finally((function(){return i.Loading.remove(2e3)}));case 5:V(Z.genre,Z.year,Z.sort),i.Notify.success("We found ".concat(JSON.parse(localStorage.getItem("totalItems"))," movies."));case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function O(e){var t=f(e);c.refs.list.innerHTML=t}function F(e,t){return G.apply(this,arguments)}function G(){return(G=e(r)(e(s).mark((function t(o,a){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(u.BASE_FIND_WORD_URL,"&page=").concat(a,"&query=").concat(o)).then((function(e){if(!e.ok)throw new Error(e.status),i.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>',backgroundColor:"rgba(0, 0, 0, 0.8)"});return e.json()})).then((function(e){i.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>',backgroundColor:"rgba(0, 0, 0, 0.8)"}),console.log(e),localStorage.setItem("totalItems",e.total_results),localStorage.setItem("itemsPerPage",e.results.length),0!==e.results.length?(L.filterForm.classList.add("is-hidden"),m(e.results),c.refs.paginationDiv.classList.remove("visually-hidden")):(i.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>',backgroundColor:"rgba(0, 0, 0, 0.8)"}),c.refs.paginationDiv.classList.add("visually-hidden"),i.Notify.failure("Nothing was found for your request"),c.refs.list.innerHTML=' <img src="https://cdn.dribbble.com/users/4266416/screenshots/8269080/media/69de53b0834d3b0c493f21d4ce773dfd.png"\n          alt="no movies found" class="no__found">')})).catch((function(e){console.log("error",e)})).finally((function(){i.Loading.remove(2e3)}));case 2:case"end":return e.stop()}}),t)})))).apply(this,arguments)}L.genreForm.addEventListener("input",(function(e){return N.apply(this,arguments)})),L.yearForm.addEventListener("input",(function(e){return T.apply(this,arguments)})),L.sortForm.addEventListener("input",(function(e){return C.apply(this,arguments)})),L.resetButton.addEventListener("click",(function(e){e.preventDefault(),L.genreForm.options.selectedIndex=0,L.yearForm.options.selectedIndex=0,L.sortForm.options.selectedIndex=0,Z.genre="",Z.year="",Z.page=1,Z.sort="",_.movePageTo(localStorage.getItem("pagination"))})),function(){for(var e=[],t=(new Date).getFullYear();t>=1950;t-=1)e.push("<option class = 'filter__form-years' value=\"".concat(t,'">').concat(t,"</option>"));var o=e.join("");L.yearForm.insertAdjacentHTML("beforeend",o)}(),n("c7C73");var q="";JSON.parse(localStorage.getItem("searchWord"))?(q=JSON.parse(localStorage.getItem("searchWord")),c.refs.input.value=q):localStorage.setItem("searchWord",JSON.stringify(q)),console.dir(c.refs.input),c.refs.input.addEventListener("input",(function(e){console.log(e.currentTarget.value),localStorage.setItem("searchWord",JSON.stringify(e.currentTarget.value)),""===e.currentTarget.value&&(c.refs.list.innerHTML="",L.filterForm.classList.remove("is-hidden"),_.movePageTo(localStorage.getItem("pagination")))}));var J="";JSON.parse(localStorage.getItem("search"))?(J=JSON.parse(localStorage.getItem("search")),c.refs.input.value=J):localStorage.setItem("search",JSON.stringify(J));function P(){return(P=e(r)(e(s).mark((function t(o){var a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.preventDefault(),a=o.currentTarget.elements.search.value.trim().toLowerCase(),localStorage.setItem("search",JSON.stringify(a)),localStorage.setItem("searchPagination",1),localStorage.setItem("searchWord",0),J=JSON.parse(localStorage.getItem("search")),a){e.next=9;break}return i.Notify.info("Sorry, there are no movies matching your search query. Please try again."),e.abrupt("return");case 9:return c.refs.list.innerHTML="",e.next=12,F(a);case 12:console.log(JSON.parse(localStorage.getItem("itemsPerPage"))),console.log(JSON.parse(localStorage.getItem("totalItems"))),!0,b(a),i.Notify.success("We found ".concat(JSON.parse(localStorage.getItem("totalItems"))," movies."));case 17:case"end":return e.stop()}}),t)})))).apply(this,arguments)}c.refs.form.addEventListener("submit",(function(e){return P.apply(this,arguments)})),n("4Nugj"),n("c7C73"),n("j1Fxp"),n("fj1h0"),n("diaKp");r=n("bpxeT"),s=n("2TvXO");var E,W=n("7rQOT"),B=n("dyT35");E=n("aNJCr").getBundleURL("EVgbq")+n("iE7OH").resolve("kxKJ3");var j=n("iNWLi"),A=(u=n("c7C73"),n("73G6I"));n("2xDiJ");var D=new(0,u.Api),R=new(0,A.default)(".modal-movie__backdrop",".modal-movie__btn-close"),U=document.querySelector(".modal-movie__container"),Q=document.querySelector(".movie-list"),z=document.querySelector(".movie-list-slider"),X=localStorage.getItem("id-user"),K={watched:[],queue:[]};function Y(){return(Y=e(r)(e(s).mark((function t(){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X){e.next=15;break}return e.prev=1,e.next=4,(0,j.getWatchedFb)(X);case 4:return K.watched=e.sent,e.next=7,(0,j.getQueueFb)(X);case 7:K.queue=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:e.next=16;break;case 15:localStorage.getItem("watched")?K=JSON.parse(localStorage.getItem("watched")):localStorage.setItem("watched",JSON.stringify(K));case 16:case"end":return e.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=e(r)(e(s).mark((function t(o){var a,n,r;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.preventDefault(),"LI"===o.target.nodeName){e.next=3;break}return e.abrupt("return");case 3:return W.Loading.custom("Loading...",{customSvgCode:'<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="myG"  fy="0" gradientTransform="rotate(60 .5 .5)"><stop offset="0" stop-color="#f15361"></stop><stop offset=".25" stop-color="#ffffff"><animate attributeName="offset" dur="2s" values="0;1;0"repeatCount="indefinite" /></stop><stop offset="1" stop-color="#f15361"/></linearGradient><path d="M0 0V12H16V0H0ZM3 11H1V9H3V11ZM3 7H1V5H3V7ZM3 3H1V1H3V3ZM12 11H4V1H12V11ZM15 11H13V9H15V11ZM15 7H13V5H15V7ZM15 3H13V1H15V3ZM6 3V9L10 6L6 3Z" fill="url(#myG)"/></svg>'}),U.innerHTML=" ",R.openModal(),a=o.target.dataset.id,e.prev=7,e.next=10,D.fetchCardFilm(a);case 10:return n=e.sent,U.innerHTML=pe(n),ae(o),W.Loading.remove(0),e.prev=14,e.next=17,D.fetchMovies(a);case 17:(r=e.sent).results[0]&&(document.querySelector(".modal-movie__img-container").insertAdjacentHTML("beforeend",ge()),document.querySelector(".modal-movie__movie").addEventListener("click",oe(o,r.results[0]))),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(14),console.log(e.t0),console.log("no movie");case 25:e.next=32;break;case 27:e.prev=27,e.t1=e.catch(7),W.Loading.remove(0),console.log(e.t1),U.innerHTML=me(e.t1);case 32:case"end":return e.stop()}}),t,null,[[7,27],[14,21]])})))).apply(this,arguments)}function oe(t,o){return e(r)(e(s).mark((function t(){var a,n,r;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=function(e){"Escape"===e.code&&n.close()},a={className:"basicLightbox__placeholder--transparent",onShow:function(){window.addEventListener("keydown",r)},onClose:function(){window.removeEventListener("keydown",r),document.querySelector(".basicLightbox__placeholder").classList.remove("basicLightbox__placeholder--transparent")}},(n=B.create(ve(o),a)).show();case 5:case"end":return e.stop()}}),t)})))}function ae(e){return ne.apply(this,arguments)}function ne(){return(ne=e(r)(e(s).mark((function t(o){var a,n,r,i,c;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ie(o.target),n=document.querySelector(".modal-movie__btn-watched"),r=document.querySelector(".modal-movie__btn-queue"),n.addEventListener("click",re(o,n)),r.addEventListener("click",se(o,r)),i=[],c=[],e.prev=7,!X){e.next=17;break}return e.next=11,(0,j.getWatchedFb)(X);case 11:return i=e.sent,e.next=14,(0,j.getQueueFb)(X);case 14:c=e.sent,e.next=18;break;case 17:i=JSON.parse(localStorage.getItem("watched")).watched,c=JSON.parse(localStorage.getItem("watched")).queue;case 18:ce(i,a,n),ce(c,a,r),de(n),fe(r),e.next=33;break;case 24:e.prev=24,e.t0=e.catch(7),console.log(e.t0),i=JSON.parse(localStorage.getItem("watched")).watched,c=JSON.parse(localStorage.getItem("watched")).queue,ce(i,a,n),ce(c,a,r),de(n),fe(r);case 33:case"end":return e.stop()}}),t,null,[[7,24]])})))).apply(this,arguments)}function re(t,o){return e(r)(e(s).mark((function a(){var n,r,i;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.querySelector(".modal-movie__btn-queue"),"false"!==o.dataset.ls){e.next=17;break}if(!X){e.next=14;break}return e.prev=3,e.next=6,(0,j.addToWatchedFb)(X,ie(t.target));case 6:le(o),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0);case 12:e.next=15;break;case 14:K.watched.push(ie(t.target)),localStorage.setItem("watched",JSON.stringify(K)),le(o);case 15:e.next=30;break;case 17:if(!X){e.next=29;break}return e.prev=18,e.next=21,(0,j.removeFromWatchedFb)(X,ie(t.target));case 21:ue(o),e.next=27;break;case 24:e.prev=24,e.t1=e.catch(18),console.log(e.t1);case 27:e.next=30;break;case 29:r=K.watched.indexOf(ie(t.target)),K.watched.splice(r,1),localStorage.setItem("watched",JSON.stringify(K)),ue(o);case 30:if(!X){e.next=46;break}return e.prev=31,e.next=34,(0,j.getQueueFb)(X);case 34:if(!e.sent.includes(ie(t.target))){e.next=39;break}return e.next=38,(0,j.removeFromQueueFb)(X,ie(t.target));case 38:ue(n);case 39:e.next=44;break;case 41:e.prev=41,e.t2=e.catch(31),console.log(e.t2);case 44:e.next=47;break;case 46:JSON.parse(localStorage.getItem("watched")).queue.includes(ie(t.target))&&(i=K.queue.indexOf(ie(t.target)),K.queue.splice(i,1),localStorage.setItem("watched",JSON.stringify(K)),ue(n));case 47:de(o),n.innerHTML="add to Queue";case 49:case"end":return e.stop()}}),a,null,[[3,9],[18,24],[31,41]])})))}function se(t,o){return e(r)(e(s).mark((function a(){var n,r,i;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=document.querySelector(".modal-movie__btn-watched"),"false"!==o.dataset.ls){e.next=18;break}if(!X){e.next=15;break}return e.prev=4,e.next=7,(0,j.addToQueueFb)(X,ie(t.target));case 7:le(o),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log(e.t0);case 13:e.next=16;break;case 15:K.queue.push(ie(t.target)),localStorage.setItem("watched",JSON.stringify(K)),le(o);case 16:e.next=31;break;case 18:if(!X){e.next=30;break}return e.prev=19,e.next=22,(0,j.removeFromQueueFb)(X,ie(t.target));case 22:ue(o),e.next=28;break;case 25:e.prev=25,e.t1=e.catch(19),console.log(e.t1);case 28:e.next=31;break;case 30:r=K.queue.indexOf(ie(t.target)),K.queue.splice(r,1),localStorage.setItem("watched",JSON.stringify(K)),ue(o);case 31:if(!X){e.next=47;break}return e.prev=32,e.next=35,(0,j.getWatchedFb)(X);case 35:if(!e.sent.includes(ie(t.target))){e.next=40;break}return e.next=39,(0,j.removeFromWatchedFb)(X,ie(t.target));case 39:ue(n);case 40:e.next=45;break;case 42:e.prev=42,e.t2=e.catch(32),console.log(e.t2);case 45:e.next=48;break;case 47:JSON.parse(localStorage.getItem("watched")).watched.includes(ie(t.target))&&(i=K.watched.indexOf(ie(t.target)),K.watched.splice(i,1),localStorage.setItem("watched",JSON.stringify(K)),ue(n));case 48:fe(o),n.innerHTML="add to Watched",e.next=54;break;case 52:e.prev=52,e.t3=e.catch(0);case 54:case"end":return e.stop()}}),a,null,[[0,52],[4,10],[19,25],[32,42]])})))}function ie(e){return'<li class="movie-popular__item" data-id="'.concat(e.dataset.id,'">\n    <a href="" class="movie-popular__reference" target="_blank">\n  ').concat(e.firstElementChild.innerHTML,"\n    </a>\n  </li>")}function ce(e,t,o){e.includes(t)?le(o):ue(o)}function le(e){e.classList.add("modal-movie__btn--curent"),e.dataset.ls="true"}function ue(e){e.classList.remove("modal-movie__btn--curent"),e.dataset.ls="false"}function de(e){"false"===e.dataset.ls?e.innerHTML="add to Watched":e.innerHTML="remove from Watched"}function fe(e){"false"===e.dataset.ls?e.innerHTML="add to Queue":e.innerHTML="remove from Queue"}function pe(e){var t=[];return e.genres.length&&e.genres.map((function(e){t.push(e.name)})),'\n  <div class="modal-movie__img-container">\n  <img class="modal-movie__img" loading="lazy" src="'.concat(e.poster_path?"https://image.tmdb.org/t/p/w500"+e.poster_path:"https://i.postimg.cc/6pzyh7Wc/pngwing-com.png",'" alt="').concat(e.original_title||e.original_name,'" width="240" height="357" />\n  ').concat(e.production_companies.length?e.production_companies[0].logo_path?' <img class="modal-movie__img-company" loading="lazy" src="'.concat(e.production_companies[0].logo_path?"https://image.tmdb.org/t/p/w500"+e.production_companies[0].logo_path:"-",'" alt="').concat(e.production_companies[0].name||"logo company",'" width="240" height="357" />'):"":" ",'\n  \n  </div>\n    \n    <div>\n      <h1 class="modal-movie__title">').concat(e.original_title||e.original_name?e.original_title||e.original_name:"-",'</h1>\n      <ul class="modal-movie__list">\n        <li class="modal-movie__item">\n          <p class="modal-movie__item-categories">Vote / Votes</p>\n          <p class="modal-movie__item-inf">\n            <span class="modal-movie__item-vote">').concat(e.vote_average,'</span> /\n            <span class="modal-movie__item-votes">').concat(e.vote_count,'</span>\n          </p>\n        </li>\n        <li class="modal-movie__item">\n          <p class="modal-movie__item-categories">Popularity</p>\n          <p class="modal-movie__item-inf">').concat(e.popularity,'</p>\n        </li>\n        <li class="modal-movie__item">\n          <p class="modal-movie__item-categories">Original Title </p>\n          <p class="modal-movie__item-inf modal-movie__item-inf--uppercase">\n            ').concat(e.original_title,'\n          </p>\n        </li>\n        <li class="modal-movie__item">\n          <p class="modal-movie__item-categories">Genre</p>\n          <p class="modal-movie__item-inf">').concat(t.length>0?t.join(", "):"-",'</p>\n        </li>\n      </ul>\n      <h2 class="modal-movie__about">About</h2>\n      <p class="modal-movie__about-text">\n        ').concat(e.overview.length>0?e.overview:"Absent...",'\n      </p>\n      <div class="modal-movie__btn-section">\n        <button\n            class="modal-movie__btn modal-movie__btn--margin modal-movie__btn-watched"\n            type="button" data-ls=\'false\'\n          >\n            add to Watched\n          </button>\n          <button class="modal-movie__btn modal-movie__btn-queue" type="button" data-ls=\'false\'>add to queue</button>\n      </div>\n    </div>\n      ')}function me(e){return'\n    <div class="error-message">\n    <h1>'.concat(e.response.status,"</h1>\n    <h2>").concat(e.name,"</h2>\n    <h3>").concat(e.message,"</h3>\n<p>try later</p>\n    </div>\n    \n      ")}function ge(){return'\n      <button type="button" class="modal-movie__movie">\n      <svg class="icon modal-movie__icon" width="40" height="40">\n      <use xlink:href="'.concat(e(E),'#icon-youtube"></use>\n      </svg>\n    </button> \n    \n      ')}function ve(e){return'\n  <div class=\'movie-iframe\'>\n<iframe frameborder="0" allowfullscreen="1" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" title="'.concat(e.name,'" width="100%" height="100%" src="https://www.youtube.com/embed/').concat(e.key,'"></iframe>\n  </div>\n  ')}!function(){Y.apply(this,arguments)}(),Q.addEventListener("click",ee),z.addEventListener("click",ee),n("puS1k"),n("puS1k")}();
//# sourceMappingURL=index.2a8dfd55.js.map
